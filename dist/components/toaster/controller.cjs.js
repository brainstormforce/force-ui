"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});let h=1;class a{#t;#s;constructor(){this.#t=[],this.#s=[]}subscribe(t){return this.#s.push(t),()=>{this.#s=this.#s.filter(s=>s!==t)}}publish(t){this.#s.forEach(s=>s(t))}add(t){this.#t.push(t),this.publish(t)}remove(t){return this.#t=this.#t.filter(s=>s.id!==t),t}create(t){const{id:s=void 0,message:i="",jsx:r=void 0,...n}=t;if(!i&&typeof r!="function")return;const o=typeof s=="number"?s:h++;return this.#t.find(u=>u.id===o)&&(this.#t=this.#t.map(u=>u.id===o?(this.publish({...u,title:i,jsx:r,...n}),{...u,title:i,jsx:r,...n}):u)),this.add({id:o,title:i,jsx:r,...n}),o}update(t,s){const{render:i=void 0}=s;let r=s;switch(typeof i){case"function":r={jsx:i,...s};break;case"string":r={title:i,...s};break}this.#t=this.#t.map(n=>n.id===t?(this.publish({...n,...r}),{...n,...r}):n)}dismiss(t){return t||this.#t.forEach(s=>this.#s.forEach(i=>i({id:s.id,dismiss:!0}))),this.#s.forEach(s=>s({id:t,dismiss:!0})),t}history(){return this.#t}default(t="",s={}){return this.create({message:t,type:"neutral",...s})}success(t="",s={}){return this.create({message:t,type:"success",...s})}error(t="",s={}){return this.create({message:t,type:"error",...s})}warning(t="",s={}){return this.create({message:t,type:"warning",...s})}info(t="",s={}){return this.create({message:t,type:"info",...s})}custom(t,s={}){return this.create({jsx:t,type:"custom",...s})}}const e=new a,d=(c,t)=>e.default(c,t),f=Object.seal(Object.assign(d,{success:e.success.bind(e),error:e.error.bind(e),warning:e.warning.bind(e),info:e.info.bind(e),custom:e.custom.bind(e),dismiss:e.dismiss.bind(e),update:e.update.bind(e)},{getHistory:e.history.bind(e)}));exports.ToastState=e;exports.toast=f;
//# sourceMappingURL=controller.cjs.js.map
