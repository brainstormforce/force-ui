{"version":3,"file":"toaster.es.js","sources":["../../../src/components/toaster/toaster.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { X } from 'lucide-react';\nimport { ToastState } from './controller';\nimport { withSingleton } from '@/hoc';\nimport { cn } from '@/utilities/functions';\nimport { getIcon, getAction, getContent, getTitle } from './utils';\nimport {\n\tcloseIconClassNames,\n\tcontainerVariantClassNames,\n\tpositionClassNames,\n\tvariantClassNames,\n} from './component-style';\nimport { flushSync } from 'react-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport type { ToasterProps, ToastProps, ToastType } from './toaster-types';\n\nexport const Toaster = ( {\n\tposition = 'top-right', // top-right/top-left/bottom-right/bottom-left\n\tdesign = 'stack', // stack/inline\n\ttheme = 'light', // light/dark\n\tclassName = '',\n\tautoDismiss = true, // Auto dismiss the toast after a certain time.\n\tdismissAfter = 5000, // Time in milliseconds after which the toast will be dismissed.\n}: ToasterProps ) => {\n\tconst [ toasts, setToasts ] = useState<ToastType[] | []>( [] );\n\n\tuseEffect( () => {\n\t\tToastState.subscribe( ( toastItem ) => {\n\t\t\tif ( toastItem?.dismiss ) {\n\t\t\t\tsetToasts( ( prevToasts ) =>\n\t\t\t\t\tprevToasts.map( ( tItem ) =>\n\t\t\t\t\t\ttItem.id === toastItem.id\n\t\t\t\t\t\t\t? { ...tItem, dismiss: true }\n\t\t\t\t\t\t\t: tItem\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTimeout( () => {\n\t\t\t\tflushSync( () =>\n\t\t\t\t\tsetToasts( ( prevToasts ) => {\n\t\t\t\t\t\tconst itemExists = prevToasts.findIndex(\n\t\t\t\t\t\t\t( tItem ) => tItem.id === toastItem.id\n\t\t\t\t\t\t);\n\t\t\t\t\t\t// Update the existing toast.\n\t\t\t\t\t\tif ( itemExists !== -1 ) {\n\t\t\t\t\t\t\treturn prevToasts.map( ( tItem ) => {\n\t\t\t\t\t\t\t\tif ( tItem.id === toastItem.id ) {\n\t\t\t\t\t\t\t\t\treturn { ...tItem, ...toastItem };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn tItem;\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn [ ...prevToasts, toastItem ];\n\t\t\t\t\t} )\n\t\t\t\t);\n\t\t\t} );\n\t\t} );\n\t}, [] );\n\n\tconst removeToast = ( id: number ) => {\n\t\tsetToasts( ( prevToasts ) => prevToasts.filter( ( t ) => t.id !== id ) );\n\t};\n\n\treturn (\n\t\t<ul\n\t\t\tclassName={ cn(\n\t\t\t\t'fui-toast-container fixed flex flex-col list-none z-20 p-10 pointer-events-none [&>li]:pointer-events-auto gap-3',\n\t\t\t\tpositionClassNames[ position ] ?? positionClassNames[ 'top-right' ],\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t{ /* Main container */ }\n\t\t\t<AnimatePresence initial={ false }>\n\t\t\t\t{ toasts.map( ( toastItem ) => (\n\t\t\t\t\t<motion.li\n\t\t\t\t\t\tkey={ toastItem.id }\n\t\t\t\t\t\t// positionTransition\n\t\t\t\t\t\tinitial={ { opacity: 0, y: 50, scale: 0.7 } }\n\t\t\t\t\t\tanimate={ { opacity: 1, y: 0, scale: 1 } }\n\t\t\t\t\t\texit={ {\n\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\tscale: 0.6,\n\t\t\t\t\t\t\ttransition: { duration: 0.15 },\n\t\t\t\t\t\t} }\n\t\t\t\t\t\tlayoutId={ `toast-${ toastItem.id }` }\n\t\t\t\t\t>\n\t\t\t\t\t\t<Toast\n\t\t\t\t\t\t\ttoastItem={ toastItem }\n\t\t\t\t\t\t\ttitle={ toastItem.title }\n\t\t\t\t\t\t\tcontent={ toastItem?.description }\n\t\t\t\t\t\t\ticon={ toastItem?.icon ?? undefined }\n\t\t\t\t\t\t\tdesign={ toastItem?.design ?? design }\n\t\t\t\t\t\t\tautoDismiss={ toastItem?.autoDismiss ?? autoDismiss }\n\t\t\t\t\t\t\tdismissAfter={\n\t\t\t\t\t\t\t\ttoastItem?.dismissAfter ?? dismissAfter\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tremoveToast={ removeToast }\n\t\t\t\t\t\t\tvariant={ toastItem.type }\n\t\t\t\t\t\t\ttheme={ toastItem?.theme ?? theme }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</motion.li>\n\t\t\t\t) ) }\n\t\t\t</AnimatePresence>\n\t\t</ul>\n\t);\n};\n\nexport const Toast = ( {\n\ttoastItem,\n\ttitle = '',\n\tcontent = '',\n\tautoDismiss = true,\n\tdismissAfter = 5000,\n\ttheme = 'light', // light/dark\n\tdesign = 'stack', // inline/stack\n\ticon,\n\tvariant = 'neutral', // neutral/info/success/warning/danger\n\tremoveToast, // Function to remove the toast.\n}: ToastProps ) => {\n\tconst closeTimerStart = useRef( 0 );\n\tconst lastCloseTimerStart = useRef( 0 );\n\tconst timeoutId = useRef<NodeJS.Timeout | undefined>();\n\n\tconst startTimer = (\n\t\ttItem: Partial<ToastType>,\n\t\tremainingTime = dismissAfter\n\t) => {\n\t\t// If auto dismiss is disabled, or the dismissAfter is less than 0, return.\n\t\tif ( ! autoDismiss || dismissAfter < 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcloseTimerStart.current = new Date().getTime();\n\t\treturn setTimeout( () => {\n\t\t\tif ( typeof removeToast !== 'function' ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tremoveToast( tItem.id! );\n\t\t}, remainingTime );\n\t};\n\n\tconst pauseTimer = () => {\n\t\tclearTimeout( timeoutId.current );\n\t\tlastCloseTimerStart.current = new Date().getTime();\n\t};\n\n\tconst continueTimer = () => {\n\t\ttimeoutId.current = startTimer(\n\t\t\ttoastItem,\n\t\t\tdismissAfter -\n\t\t\t\t( lastCloseTimerStart.current - closeTimerStart.current )\n\t\t);\n\t};\n\n\t// Start the timer when the component mounts.\n\tuseEffect( () => {\n\t\tconst remainingTime = dismissAfter;\n\n\t\ttimeoutId.current = startTimer( toastItem, remainingTime );\n\t\treturn () => {\n\t\t\tclearTimeout( timeoutId.current );\n\t\t};\n\t}, [] );\n\n\tuseEffect( () => {\n\t\tif ( ! toastItem?.dismiss || typeof removeToast !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\t\tremoveToast( toastItem.id! );\n\t}, [ toastItem ] );\n\n\tconst handleAction = () => {\n\t\tif ( typeof removeToast !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\t\ttoastItem?.action?.onClick?.( () => removeToast( toastItem.id! ) );\n\t};\n\n\tlet render = null;\n\tif ( design === 'stack' ) {\n\t\trender = (\n\t\t\t<div\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'flex items-center justify-start p-4 gap-2 relative border border-solid rounded-md shadow-lg',\n\t\t\t\t\ttheme === 'dark'\n\t\t\t\t\t\t? variantClassNames.dark\n\t\t\t\t\t\t: variantClassNames.light?.[ variant ],\n\t\t\t\t\tcontainerVariantClassNames.stack\n\t\t\t\t) }\n\t\t\t\tonMouseEnter={ pauseTimer }\n\t\t\t\tonMouseLeave={ continueTimer }\n\t\t\t>\n\t\t\t\t{ toastItem.type !== 'custom' ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"self-start flex items-center justify-center [&_svg]:size-5 shrink-0\">\n\t\t\t\t\t\t\t{ getIcon( { variant, icon, theme } ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-col items-start justify-start gap-0.5 mr-6\">\n\t\t\t\t\t\t\t{ getTitle( { title, theme } ) }\n\t\t\t\t\t\t\t{ getContent( { content, theme } ) }\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttoastItem?.action?.label &&\n\t\t\t\t\t\t\t\t\ttypeof toastItem?.action?.onClick ===\n\t\t\t\t\t\t\t\t\t\t'function' && (\n\t\t\t\t\t\t\t\t/* eslint-disable */\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2.5\">\n\t\t\t\t\t\t\t\t\t\t\t{getAction({\n\t\t\t\t\t\t\t\t\t\t\t\tactionLabel:\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastItem?.action?.label,\n\t\t\t\t\t\t\t\t\t\t\t\tactionType:\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoastItem?.action?.type ??\n\t\t\t\t\t\t\t\t\t\t\t\t\t'button',\n\t\t\t\t\t\t\t\t\t\t\t\tonAction: handleAction,\n\t\t\t\t\t\t\t\t\t\t\t\ttheme,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t/* eslint-enable */\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"absolute right-4 top-4 [&_svg]:size-5\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t'bg-transparent m-0 p-0 border-none focus:outline-none active:outline-none cursor-pointer',\n\t\t\t\t\t\t\t\t\tcloseIconClassNames[ theme ] ??\n\t\t\t\t\t\t\t\t\t\tcloseIconClassNames.light\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t\tif ( typeof removeToast !== 'function' ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tremoveToast( toastItem.id! );\n\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\ttoastItem?.jsx?.( {\n\t\t\t\t\t\tclose: () => removeToast!( toastItem.id! ),\n\t\t\t\t\t\taction: toastItem?.action\n\t\t\t\t\t\t\t? { ...toastItem?.action, onClick: handleAction }\n\t\t\t\t\t\t\t: null,\n\t\t\t\t\t} )\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif ( design === 'inline' ) {\n\t\trender = (\n\t\t\t<div\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'flex items-center justify-start p-3 gap-2 relative border border-solid rounded-md shadow-lg',\n\t\t\t\t\ttheme === 'dark'\n\t\t\t\t\t\t? variantClassNames.dark\n\t\t\t\t\t\t: variantClassNames.light?.[ variant ],\n\t\t\t\t\tcontainerVariantClassNames.inline\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<div className=\"self-start flex items-center justify-center [&_svg]:size-5 shrink-0\">\n\t\t\t\t\t{ getIcon( { variant, icon, theme } ) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex items-start justify-start gap-1 mr-10 [&>span:first-child]:shrink-0\">\n\t\t\t\t\t{ getTitle( { title, theme } ) }\n\t\t\t\t\t{ getContent( { content, theme } ) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"absolute right-3 top-3 [&_svg]:size-5\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t'bg-transparent m-0 p-0 border-none focus:outline-none active:outline-none cursor-pointer',\n\t\t\t\t\t\t\tcloseIconClassNames[ theme ] ??\n\t\t\t\t\t\t\t\tcloseIconClassNames.light\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tonClick={ () => removeToast!( toastItem.id! ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<X />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn render;\n};\n\nexport default withSingleton( Toaster );\n"],"names":["Toaster","position","design","theme","className","autoDismiss","dismissAfter","toasts","setToasts","useState","useEffect","ToastState","toastItem","prevToasts","tItem","flushSync","removeToast","id","t","jsx","cn","positionClassNames","AnimatePresence","motion","Toast","title","content","icon","variant","closeTimerStart","useRef","lastCloseTimerStart","timeoutId","startTimer","remainingTime","pauseTimer","continueTimer","handleAction","render","variantClassNames","containerVariantClassNames","jsxs","Fragment","getIcon","getTitle","getContent","getAction","closeIconClassNames","event","X","toaster","withSingleton"],"mappings":"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"}