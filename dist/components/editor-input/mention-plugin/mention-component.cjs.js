"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const x=require("react/jsx-runtime"),u=require("react"),C=require("@lexical/react/LexicalComposerContext"),r=require("lexical"),b=require("@lexical/utils"),p=require("../../badge/badge.cjs.js"),R=n=>{switch(n){case"sm":return"xs";case"md":return"sm";case"lg":return"md";default:return"sm"}},M=({data:n,by:m,size:g,nodeKey:i})=>{const[l]=C.useLexicalComposerContext(),c=!l.isEditable(),N=o=>{o.stopPropagation(),o.preventDefault(),!c&&l.update(()=>{const s=r.$getNodeByKey(i);s&&s.remove()})};let a=n;typeof n=="object"&&(a=n[m]);const d=u.useCallback(o=>{const s=r.$getNodeByKey(i);if(!s||!s.isSelected())return!1;let t=!1;const e=s.getPreviousSibling();return r.$isElementNode(e)&&(e.selectEnd(),t=!0),r.$isTextNode(e)&&(e.select(),t=!0),r.$isDecoratorNode(e)&&(e.selectNext(),t=!0),e===null&&(s.selectPrevious(),t=!0),t&&o.preventDefault(),t},[i]),f=u.useCallback(o=>{const s=r.$getNodeByKey(i);if(!s||!s.isSelected())return!1;let t=!1;const e=s.getNextSibling();return r.$isElementNode(e)&&(e.selectStart(),t=!0),r.$isTextNode(e)&&(e.select(0,0),t=!0),r.$isDecoratorNode(e)&&(e.selectPrevious(),t=!0),e===null&&(s.selectNext(),t=!0),t&&o.preventDefault(),t},[i]);return u.useEffect(()=>{const o=b.mergeRegister(l.registerCommand(r.KEY_ARROW_LEFT_COMMAND,d,r.COMMAND_PRIORITY_LOW),l.registerCommand(r.KEY_ARROW_RIGHT_COMMAND,f,r.COMMAND_PRIORITY_LOW));return()=>{o()}},[l,d,f]),x.jsx(p.default,{className:"inline-flex",type:"rounded",size:R(g),label:a,icon:null,closable:!0,onClose:N,disabled:c})};exports.default=M;
//# sourceMappingURL=mention-component.cjs.js.map
