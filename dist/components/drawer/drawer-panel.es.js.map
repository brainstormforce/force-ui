{"version":3,"file":"drawer-panel.es.js","sources":["../../../src/components/drawer/drawer-panel.tsx"],"sourcesContent":["import { type ReactNode } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useDrawerState } from './drawer';\nimport { cn } from '@/utilities/functions';\nimport {\n\tFloatingOverlay,\n\tFloatingFocusManager,\n\ttype FloatingContext as FloatingContextType,\n} from '@floating-ui/react';\n\nconst animationVariants = {\n\tleft: {\n\t\topen: {\n\t\t\tx: 0,\n\t\t},\n\t\texit: {\n\t\t\tx: '-100%',\n\t\t},\n\t},\n\tright: {\n\t\topen: {\n\t\t\tx: 0,\n\t\t},\n\t\texit: {\n\t\t\tx: '100%',\n\t\t},\n\t},\n};\n\nexport interface DrawerPanelProps {\n\t/** Drawer content. */\n\tchildren: ReactNode | ( ( props: { close: () => void } ) => ReactNode );\n\t/** Additional class names. */\n\tclassName?: string;\n}\n\nconst DrawerPanel = ( { children, className }: DrawerPanelProps ) => {\n\tconst {\n\t\topen,\n\t\tposition,\n\t\thandleClose,\n\t\ttransitionDuration,\n\t\tgetFloatingProps,\n\t\tdrawerContainerRef,\n\t\tscrollLock,\n\t\tcontext,\n\t\tclassName: rootClassName,\n\t\trefs,\n\t} = useDrawerState();\n\n\t// Early return if any required props are missing\n\tif ( ! context || ! getFloatingProps ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<AnimatePresence>\n\t\t\t{ open && (\n\t\t\t\t<FloatingOverlay\n\t\t\t\t\tref={ drawerContainerRef }\n\t\t\t\t\tlockScroll={ scrollLock }\n\t\t\t\t\tclassName={ cn( 'z-50', rootClassName ) }\n\t\t\t\t>\n\t\t\t\t\t<FloatingFocusManager\n\t\t\t\t\t\tcontext={ context as FloatingContextType }\n\t\t\t\t\t\tmodal={ true }\n\t\t\t\t\t\t{ ...( refs?.reference && { returnFocus: refs.reference as React.MutableRefObject<HTMLElement> } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"fixed inset-0 overflow-hidden\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"relative inset-0 h-full flex items-center\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t\t'flex items-center justify-center h-full w-full',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'justify-start': position === 'left',\n\t\t\t\t\t\t\t\t\t\t\t'justify-end': position === 'right',\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t\t\t'flex flex-col w-120 h-full bg-background-primary shadow-2xl overflow-hidden z-20',\n\t\t\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tinitial=\"exit\"\n\t\t\t\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\t\t\t\texit=\"exit\"\n\t\t\t\t\t\t\t\t\t\tvariants={ animationVariants[ position! ] }\n\t\t\t\t\t\t\t\t\t\ttransition={ transitionDuration }\n\t\t\t\t\t\t\t\t\t\tref={ ( node ) => {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\t\t\t\t\t\trefs?.setFloating( node );\n\t\t\t\t\t\t\t\t\t\t\t}, ( ( transitionDuration?.duration || 0.3 ) + 0.1 ) * 1000 );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\taria-label=\"drawer\"\n\t\t\t\t\t\t\t\t\t\trole=\"dialog\"\n\t\t\t\t\t\t\t\t\t\taria-modal=\"true\"\n\t\t\t\t\t\t\t\t\t\t{ ...getFloatingProps?.() }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ typeof children === 'function'\n\t\t\t\t\t\t\t\t\t\t\t? children( { close: handleClose! } )\n\t\t\t\t\t\t\t\t\t\t\t: children }\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FloatingFocusManager>\n\t\t\t\t</FloatingOverlay>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n};\n\nDrawerPanel.displayName = 'Drawer.Panel';\n\nexport default DrawerPanel;\n"],"names":["animationVariants","DrawerPanel","children","className","open","position","handleClose","transitionDuration","getFloatingProps","drawerContainerRef","scrollLock","context","rootClassName","refs","useDrawerState","jsx","AnimatePresence","FloatingOverlay","cn","FloatingFocusManager","motion","node"],"mappings":";;;;;AAUA,MAAMA,IAAoB;AAAA,EACzB,MAAM;AAAA,IACL,MAAM;AAAA,MACL,GAAG;AAAA,IACJ;AAAA,IACA,MAAM;AAAA,MACL,GAAG;AAAA,IAAA;AAAA,EAEL;AAAA,EACA,OAAO;AAAA,IACN,MAAM;AAAA,MACL,GAAG;AAAA,IACJ;AAAA,IACA,MAAM;AAAA,MACL,GAAG;AAAA,IAAA;AAAA,EACJ;AAEF,GASMC,IAAc,CAAE,EAAE,UAAAC,GAAU,WAAAC,QAAmC;AAC9D,QAAA;AAAA,IACL,MAAAC;AAAA,IACA,UAAAC;AAAA,IACA,aAAAC;AAAA,IACA,oBAAAC;AAAA,IACA,kBAAAC;AAAA,IACA,oBAAAC;AAAA,IACA,YAAAC;AAAA,IACA,SAAAC;AAAA,IACA,WAAWC;AAAA,IACX,MAAAC;AAAA,MACGC,EAAe;AAGd,SAAA,CAAEH,KAAW,CAAEH,IACZ,OAIP,gBAAAO,EAACC,KACE,UACDZ,KAAA,gBAAAW;AAAA,IAACE;AAAA,IAAA;AAAA,MACA,KAAMR;AAAA,MACN,YAAaC;AAAA,MACb,WAAYQ,EAAI,QAAQN,CAAc;AAAA,MAEtC,UAAA,gBAAAG;AAAA,QAACI;AAAA,QAAA;AAAA,UACA,SAAAR;AAAA,UACA,OAAQ;AAAA,UACN,GAAKE,GAAM,aAAa,EAAE,aAAaA,EAAK,UAAiD;AAAA,UAE/F,UAAA,gBAAAE;AAAA,YAAC;AAAA,YAAA;AAAA,cACA,WAAU;AAAA,cAEV,UAAA,gBAAAA,EAAC,OAAI,EAAA,WAAU,6CACd,UAAA,gBAAAA;AAAA,gBAAC;AAAA,gBAAA;AAAA,kBACA,WAAYG;AAAA,oBACX;AAAA,oBACA;AAAA,sBACC,iBAAiBb,MAAa;AAAA,sBAC9B,eAAeA,MAAa;AAAA,oBAAA;AAAA,kBAE9B;AAAA,kBAEA,UAAA,gBAAAU;AAAA,oBAACK,EAAO;AAAA,oBAAP;AAAA,sBACA,WAAYF;AAAA,wBACX;AAAA,wBACAf;AAAA,sBACD;AAAA,sBACA,SAAQ;AAAA,sBACR,SAAQ;AAAA,sBACR,MAAK;AAAA,sBACL,UAAWH,EAAmBK,CAAU;AAAA,sBACxC,YAAaE;AAAA,sBACb,KAAM,CAAEc,MAAU;AACjB,mCAAY,MAAM;AACjB,0BAAAR,GAAM,YAAaQ,CAAK;AAAA,wBAAA,KAClBd,GAAoB,YAAY,OAAQ,OAAQ,GAAK;AAAA,sBAC7D;AAAA,sBACA,cAAW;AAAA,sBACX,MAAK;AAAA,sBACL,cAAW;AAAA,sBACT,GAAGC,IAAmB;AAAA,sBAEtB,UAAA,OAAON,KAAa,aACnBA,EAAU,EAAE,OAAOI,EAAA,CAAe,IAClCJ;AAAA,oBAAA;AAAA,kBAAA;AAAA,gBACJ;AAAA,cAAA,EAEF,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QACD;AAAA,MAAA;AAAA,IACD;AAAA,EAAA,GAGH;AAEF;AAEAD,EAAY,cAAc;"}