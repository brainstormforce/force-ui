{"version":3,"file":"drawer-panel.cjs.js","sources":["../../../src/components/drawer/drawer-panel.tsx"],"sourcesContent":["import { type ReactNode } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { useDrawerState } from './drawer';\nimport { cn } from '@/utilities/functions';\nimport {\n\tFloatingOverlay,\n\tFloatingFocusManager,\n\ttype FloatingContext as FloatingContextType,\n} from '@floating-ui/react';\n\nconst animationVariants = {\n\tleft: {\n\t\topen: {\n\t\t\tx: 0,\n\t\t},\n\t\texit: {\n\t\t\tx: '-100%',\n\t\t},\n\t},\n\tright: {\n\t\topen: {\n\t\t\tx: 0,\n\t\t},\n\t\texit: {\n\t\t\tx: '100%',\n\t\t},\n\t},\n};\n\nexport interface DrawerPanelProps {\n\t/** Drawer content. */\n\tchildren: ReactNode | ( ( props: { close: () => void } ) => ReactNode );\n\t/** Additional class names. */\n\tclassName?: string;\n}\n\nconst DrawerPanel = ( { children, className }: DrawerPanelProps ) => {\n\tconst {\n\t\topen,\n\t\tposition,\n\t\thandleClose,\n\t\ttransitionDuration,\n\t\tgetFloatingProps,\n\t\tdrawerContainerRef,\n\t\tscrollLock,\n\t\tcontext,\n\t\tclassName: rootClassName,\n\t\trefs,\n\t} = useDrawerState();\n\n\t// Early return if any required props are missing\n\tif ( ! context || ! getFloatingProps ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<AnimatePresence>\n\t\t\t{ open && (\n\t\t\t\t<FloatingOverlay\n\t\t\t\t\tref={ drawerContainerRef }\n\t\t\t\t\tlockScroll={ scrollLock }\n\t\t\t\t\tclassName={ cn( 'z-50', rootClassName ) }\n\t\t\t\t>\n\t\t\t\t\t<FloatingFocusManager\n\t\t\t\t\t\tcontext={ context as FloatingContextType }\n\t\t\t\t\t\tmodal={ true }\n\t\t\t\t\t\t{ ...( refs?.reference && { returnFocus: refs.reference as React.MutableRefObject<HTMLElement> } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"fixed inset-0 overflow-hidden\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"relative inset-0 h-full flex items-center\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t\t'flex items-center justify-center h-full w-full',\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'justify-start': position === 'left',\n\t\t\t\t\t\t\t\t\t\t\t'justify-end': position === 'right',\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t\t\t'flex flex-col w-120 h-full bg-background-primary shadow-2xl overflow-hidden z-20',\n\t\t\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t\tinitial=\"exit\"\n\t\t\t\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\t\t\t\texit=\"exit\"\n\t\t\t\t\t\t\t\t\t\tvariants={ animationVariants[ position! ] }\n\t\t\t\t\t\t\t\t\t\ttransition={ transitionDuration }\n\t\t\t\t\t\t\t\t\t\tref={ ( node ) => {\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\t\t\t\t\t\t\trefs?.setFloating( node );\n\t\t\t\t\t\t\t\t\t\t\t}, ( ( transitionDuration?.duration || 0.3 ) + 0.1 ) * 1000 );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t\taria-label=\"drawer\"\n\t\t\t\t\t\t\t\t\t\trole=\"dialog\"\n\t\t\t\t\t\t\t\t\t\taria-modal=\"true\"\n\t\t\t\t\t\t\t\t\t\t{ ...getFloatingProps?.() }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ typeof children === 'function'\n\t\t\t\t\t\t\t\t\t\t\t? children( { close: handleClose! } )\n\t\t\t\t\t\t\t\t\t\t\t: children }\n\t\t\t\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</FloatingFocusManager>\n\t\t\t\t</FloatingOverlay>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n};\n\nDrawerPanel.displayName = 'Drawer.Panel';\n\nexport default DrawerPanel;\n"],"names":["animationVariants","DrawerPanel","children","className","open","position","handleClose","transitionDuration","getFloatingProps","drawerContainerRef","scrollLock","context","rootClassName","refs","useDrawerState","jsx","AnimatePresence","FloatingOverlay","cn","FloatingFocusManager","motion","node"],"mappings":"uRAUMA,EAAoB,CACzB,KAAM,CACL,KAAM,CACL,EAAG,CACJ,EACA,KAAM,CACL,EAAG,OAAA,CAEL,EACA,MAAO,CACN,KAAM,CACL,EAAG,CACJ,EACA,KAAM,CACL,EAAG,MAAA,CACJ,CAEF,EASMC,EAAc,CAAE,CAAE,SAAAC,EAAU,UAAAC,KAAmC,CAC9D,KAAA,CACL,KAAAC,EACA,SAAAC,EACA,YAAAC,EACA,mBAAAC,EACA,iBAAAC,EACA,mBAAAC,EACA,WAAAC,EACA,QAAAC,EACA,UAAWC,EACX,KAAAC,GACGC,iBAAe,EAGd,MAAA,CAAEH,GAAW,CAAEH,EACZ,KAIPO,EAAA,IAACC,mBACE,SACDZ,GAAAW,EAAA,IAACE,EAAA,gBAAA,CACA,IAAMR,EACN,WAAaC,EACb,UAAYQ,EAAAA,GAAI,OAAQN,CAAc,EAEtC,SAAAG,EAAA,IAACI,EAAA,qBAAA,CACA,QAAAR,EACA,MAAQ,GACN,GAAKE,GAAM,WAAa,CAAE,YAAaA,EAAK,SAAiD,EAE/F,SAAAE,EAAA,IAAC,MAAA,CACA,UAAU,gCAEV,SAAAA,EAAA,IAAC,MAAI,CAAA,UAAU,4CACd,SAAAA,EAAA,IAAC,MAAA,CACA,UAAYG,EAAA,GACX,iDACA,CACC,gBAAiBb,IAAa,OAC9B,cAAeA,IAAa,OAAA,CAE9B,EAEA,SAAAU,EAAA,IAACK,EAAAA,OAAO,IAAP,CACA,UAAYF,EAAA,GACX,mFACAf,CACD,EACA,QAAQ,OACR,QAAQ,OACR,KAAK,OACL,SAAWH,EAAmBK,CAAU,EACxC,WAAaE,EACb,IAAQc,GAAU,CACjB,WAAY,IAAM,CACjBR,GAAM,YAAaQ,CAAK,CAAA,IAClBd,GAAoB,UAAY,IAAQ,IAAQ,GAAK,CAC7D,EACA,aAAW,SACX,KAAK,SACL,aAAW,OACT,GAAGC,IAAmB,EAEtB,SAAA,OAAON,GAAa,WACnBA,EAAU,CAAE,MAAOI,CAAA,CAAe,EAClCJ,CAAA,CAAA,CACJ,CAAA,CAEF,CAAA,CAAA,CAAA,CACD,CAAA,CACD,CAAA,EAGH,CAEF,EAEAD,EAAY,YAAc"}