"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const a=require("react/jsx-runtime"),e=require("react"),h=require("../../utilities/functions.cjs.js"),b=require("./drawer-panel.cjs.js"),B=require("./drawer-header.cjs.js"),j=require("./drawer-title.cjs.js"),N=require("./drawer-description.cjs.js"),I=require("./drawer-body.cjs.js"),L=require("./drawer-footer.cjs.js"),M=require("./drawer-close-button.cjs.js"),P=require("./drawer-backdrop.cjs.js"),A=.2,q=e.createContext({}),F=()=>e.useContext(q),t=({open:u,setOpen:f,children:y,trigger:n,className:k,exitOnClickOutside:D=!1,exitOnEsc:E=!0,design:S="simple",position:x="right",transitionDuration:O=A,scrollLock:R=!0})=>{const w=u!==void 0&&f!==void 0,[m,l]=e.useState(!1),i=e.useRef(null),v=e.useRef(null),o=e.useMemo(()=>w?u:m,[u,m]),d=e.useMemo(()=>w?f:l,[l,l]),c=()=>{o||d(!0)},s=()=>{o&&d(!1)},T=e.useCallback(()=>e.isValidElement(n)?e.cloneElement(n,{onClick:h.callAll(c,n.props.onClick)}):typeof n=="function"?n({onClick:c}):null,[n,c,s]),p=r=>{switch(r.key){case"Escape":E&&s();break}},C=r=>{D&&i.current&&!i.current.contains(r.target)&&s()};return e.useEffect(()=>(window.addEventListener("keydown",p),document.addEventListener("mousedown",C),()=>{window.removeEventListener("keydown",p),document.removeEventListener("mousedown",C)}),[o]),e.useEffect(()=>{if(!R)return;const r=document.querySelector("html");return o&&r&&(r.style.overflow="hidden"),()=>{r&&(r.style.overflow="")}},[o]),a.jsxs(a.Fragment,{children:[T(),a.jsx(q.Provider,{value:{open:o,setOpen:d,handleClose:s,design:S,position:x,drawerContainerRef:v,drawerRef:i,transitionDuration:{duration:O}},children:a.jsx("div",{className:h.cn("fixed z-auto w-0 h-0 overflow-visible",k),ref:v,role:"dialog","aria-modal":"true","aria-label":"drawer",children:y})})]})};t.displayName="Drawer";t.Panel=b.default;t.Header=B.default;t.Title=j.default;t.Description=N.default;t.Body=I.default;t.CloseButton=M.default;t.Footer=L.default;t.Backdrop=P.default;exports.default=t;exports.useDrawerState=F;
//# sourceMappingURL=drawer.cjs.js.map
