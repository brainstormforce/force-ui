{"version":3,"file":"drawer-backdrop.cjs.js","sources":["../../../src/components/drawer/drawer-backdrop.tsx"],"sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\nimport { useDrawerState } from './drawer';\nimport { createPortal } from 'react-dom';\nimport { cn } from '@/utilities/functions';\nimport { useEffect, useState } from 'react';\n\nconst backdropAnimationVariants = {\n\topen: {\n\t\topacity: 1,\n\t},\n\texit: {\n\t\topacity: 0,\n\t},\n};\n\nexport interface DrawerBackdropProps {\n\t/** Additional class names. */\n\tclassName?: string;\n\t/** Additional props. */\n\t[key: string]: unknown;\n}\n\n// Backdrop for the drawer.\nconst DrawerBackdrop = ( { className, ...props }: DrawerBackdropProps ) => {\n\tconst { open, drawerContainerRef, transitionDuration } = useDrawerState();\n\tconst [ container, setContainer ] = useState<HTMLElement | null>( null );\n\n\tuseEffect( () => {\n\t\tif ( drawerContainerRef?.current ) {\n\t\t\tsetContainer( drawerContainerRef.current );\n\t\t}\n\t}, [ open, drawerContainerRef ] );\n\n\t// Render directly if container not yet available\n\tconst backdropContent = (\n\t\t<AnimatePresence mode=\"wait\">\n\t\t\t{ open && (\n\t\t\t\t<motion.div\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'fixed inset-0 -z-10 bg-background-inverse/90',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tinitial=\"exit\"\n\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\texit=\"exit\"\n\t\t\t\t\tvariants={ backdropAnimationVariants }\n\t\t\t\t\ttransition={ transitionDuration }\n\t\t\t\t\tkey=\"backdrop\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n\n\t// If container is available, use portal, otherwise render directly\n\treturn container ? createPortal( backdropContent, container ) : backdropContent;\n};\nDrawerBackdrop.displayName = 'Drawer.Backdrop';\n\nexport default DrawerBackdrop;\n"],"names":["backdropAnimationVariants","DrawerBackdrop","className","props","open","drawerContainerRef","transitionDuration","useDrawerState","container","setContainer","useState","useEffect","backdropContent","jsx","AnimatePresence","createElement","motion","cn","createPortal"],"mappings":"iSAMMA,EAA4B,CACjC,KAAM,CACL,QAAS,CACV,EACA,KAAM,CACL,QAAS,CAAA,CAEX,EAUMC,EAAiB,CAAE,CAAE,UAAAC,EAAW,GAAGC,KAAkC,CAC1E,KAAM,CAAE,KAAAC,EAAM,mBAAAC,EAAoB,mBAAAC,CAAA,EAAuBC,EAAAA,eAAe,EAClE,CAAEC,EAAWC,CAAa,EAAIC,EAAAA,SAA8B,IAAK,EAEvEC,EAAAA,UAAW,IAAM,CACXN,GAAoB,SACxBI,EAAcJ,EAAmB,OAAQ,CAC1C,EACE,CAAED,EAAMC,CAAmB,CAAE,EAGhC,MAAMO,EACLC,EAAA,IAACC,kBAAgB,CAAA,KAAK,OACnB,SACDV,GAAAW,EAAA,cAACC,EAAAA,OAAO,IAAP,CACA,UAAYC,EAAA,GACX,+CACAf,CACD,EACE,GAAGC,EACL,QAAQ,OACR,QAAQ,OACR,KAAK,OACL,SAAWH,EACX,WAAaM,EACb,IAAI,UAAA,CAAA,EAGP,EAID,OAAOE,EAAYU,EAAA,aAAcN,EAAiBJ,CAAU,EAAII,CACjE,EACAX,EAAe,YAAc"}