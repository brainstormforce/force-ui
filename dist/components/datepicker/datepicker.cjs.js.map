{"version":3,"file":"datepicker.cjs.js","sources":["../../../src/components/datepicker/datepicker.tsx"],"sourcesContent":["import { useState } from 'react';\nimport DatePickerComponent, { TDateRange } from './datepicker-component';\nimport Button from '../button';\nimport {\n\tstartOfToday,\n\tstartOfYesterday,\n\tstartOfWeek,\n\tendOfWeek,\n\tstartOfMonth,\n\tendOfMonth,\n\tsubDays,\n\tstartOfDay,\n} from 'date-fns';\nimport { getDefaultSelectedValue } from './utils';\nimport { type PropsBase } from 'react-day-picker';\nimport { cn } from '@/utilities/functions';\n\nexport interface DatePickerProps {\n\t/** Defines the selection selectionType of the date picker: single, range, or multiple dates. */\n\tselectionType?: 'single' | 'range' | 'multiple';\n\t/** Defines the variant of the date picker: normal, dualdate, or presets. */\n\tvariant?: 'normal' | 'dualdate' | 'presets';\n\t/** An array of custom presets. */\n\tpresets?: { label: string; range: { from: Date; to: Date } }[];\n\t/** Callback function to be executed when the cancel button is clicked. */\n\tonCancel?: () => void;\n\t/** Callback function to be executed when the apply button is clicked. */\n\tonApply?: ( selectedDates: Date | { from: Date; to: Date } | Date[] ) => void;\n\t/** Callback function to be executed when a date is selected. */\n\tonDateSelect?: ( date: Date | Date[] | TDateRange | undefined ) => void;\n\t/** Text displayed on the Apply button. */\n\tapplyButtonText?: string;\n\t/** Text displayed on the Cancel button. */\n\tcancelButtonText?: string;\n\t/** Show or hide days outside of the current month. */\n\tshowOutsideDays?: boolean;\n\t/** Show or hide the footer. */\n\tisFooter?: boolean;\n\t/** Selected date value. */\n\tselected?: Date | Date[] | TDateRange | undefined;\n\t/**\n\t * Disable the date picker based on the condition.\n\t * Example:\n\t * To disable future dates, set the condition as:\n\t * ```jsx\n\t * disabled={{ after: new Date(), before:\"\" }}\n\t * ```\n\t * @default undefined\n\t */\n\tdisabled?: PropsBase['disabled'];\n}\n\nconst DatePicker = ( {\n\tselectionType = 'single',\n\tvariant = 'normal',\n\tpresets: customPresets = [],\n\tonCancel,\n\tonApply,\n\tonDateSelect,\n\tapplyButtonText = 'Apply',\n\tcancelButtonText = 'Cancel',\n\tshowOutsideDays = true,\n\tisFooter = true,\n\tselected,\n\tdisabled,\n\t...props\n}: DatePickerProps ) => {\n\tconst [ selectedDates, setSelectedDates ] = useState<\n\t\tTDateRange | Date | Date[] | undefined\n\t>( () => {\n\t\tif ( ! selected ) {\n\t\t\treturn getDefaultSelectedValue( selectionType );\n\t\t}\n\n\t\t// Type guards for different selection types\n\t\tconst isValidMultiple =\n\t\t\tselectionType === 'multiple' && Array.isArray( selected );\n\t\tconst isValidRange =\n\t\t\tselectionType === 'range' && 'from' in selected && 'to' in selected;\n\t\tconst isValidSingle =\n\t\t\tselectionType === 'single' && selected instanceof Date;\n\n\t\t// Return selected if valid, otherwise return default value\n\t\tif ( isValidMultiple || isValidRange || isValidSingle ) {\n\t\t\treturn selected;\n\t\t}\n\n\t\treturn getDefaultSelectedValue( selectionType );\n\t} );\n\n\tconst handleSelect = (\n\t\tselectedDate: Date | Date[] | TDateRange | undefined\n\t) => {\n\t\tsetSelectedDates( selectedDate );\n\t\tif ( onDateSelect ) {\n\t\t\tonDateSelect( selectedDate );\n\t\t}\n\t};\n\n\tconst defaultPresets = [\n\t\t{\n\t\t\tlabel: 'Today',\n\t\t\trange: { from: startOfToday(), to: startOfToday() },\n\t\t},\n\t\t{\n\t\t\tlabel: 'Yesterday',\n\t\t\trange: { from: startOfYesterday(), to: startOfYesterday() },\n\t\t},\n\t\t{\n\t\t\tlabel: 'This Week',\n\t\t\trange: {\n\t\t\t\tfrom: startOfWeek( new Date(), { weekStartsOn: 1 } ),\n\t\t\t\tto: endOfWeek( new Date(), { weekStartsOn: 1 } ),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: 'Last 7 Days',\n\t\t\trange: {\n\t\t\t\tfrom: startOfDay( subDays( new Date(), 6 ) ),\n\t\t\t\tto: startOfDay( new Date() ),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: 'This Month',\n\t\t\trange: {\n\t\t\t\tfrom: startOfMonth( new Date() ),\n\t\t\t\tto: endOfMonth( new Date() ),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: 'Last 30 Days',\n\t\t\trange: {\n\t\t\t\tfrom: startOfDay( subDays( new Date(), 29 ) ),\n\t\t\t\tto: startOfDay( new Date() ),\n\t\t\t},\n\t\t},\n\t];\n\n\tconst presets = customPresets.length > 0 ? customPresets : defaultPresets;\n\n\tconst handlePresetClick = ( range: { from: Date; to: Date } ) => {\n\t\tsetSelectedDates( range );\n\t};\n\n\tconst handleCancelClick = () => {\n\t\tsetSelectedDates(\n\t\t\tselectionType === 'multiple'\n\t\t\t\t? []\n\t\t\t\t: { from: undefined, to: undefined }\n\t\t);\n\t\tif ( onCancel ) {\n\t\t\tonCancel();\n\t\t}\n\t};\n\n\tconst handleApplyClick = () => {\n\t\tif ( onApply ) {\n\t\t\tonApply( selectedDates as Date | { from: Date; to: Date } | Date[] );\n\t\t}\n\t};\n\n\tif ( variant === 'normal' ) {\n\t\treturn (\n\t\t\t<DatePickerComponent\n\t\t\t\t{ ...props }\n\t\t\t\tmode={ selectionType }\n\t\t\t\tvariant={ variant }\n\t\t\t\twidth=\"w-[18.5rem]\"\n\t\t\t\tselectedDates={ selectedDates }\n\t\t\t\tshowOutsideDays={ showOutsideDays }\n\t\t\t\tsetSelectedDates={\n\t\t\t\t\thandleSelect as (\n\t\t\t\t\t\tdates: Date | Date[] | TDateRange | undefined\n\t\t\t\t\t) => void\n\t\t\t\t}\n\t\t\t\tfooter={\n\t\t\t\t\tisFooter && (\n\t\t\t\t\t\t<div className=\"flex bg-background-primary justify-end p-2 gap-3 border border-solid border-border-subtle border-t-0 rounded-md rounded-tl-none rounded-tr-none\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={ handleCancelClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ cancelButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={ handleApplyClick }>\n\t\t\t\t\t\t\t\t{ applyButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tdisabled={ disabled }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( variant === 'dualdate' ) {\n\t\treturn (\n\t\t\t<DatePickerComponent\n\t\t\t\tmode={ selectionType }\n\t\t\t\tnumberOfMonths={ 2 }\n\t\t\t\talignment=\"horizontal\"\n\t\t\t\tselectedDates={ selectedDates }\n\t\t\t\tsetSelectedDates={\n\t\t\t\t\thandleSelect as (\n\t\t\t\t\t\tdates: Date | Date[] | TDateRange | undefined\n\t\t\t\t\t) => void\n\t\t\t\t}\n\t\t\t\tshowOutsideDays={ showOutsideDays }\n\t\t\t\tvariant={ variant }\n\t\t\t\twidth=\"w-auto\"\n\t\t\t\tfooter={\n\t\t\t\t\t<div className=\"flex bg-background-primary justify-end p-2 gap-3 border border-solid border-border-subtle border-t-0 rounded-md rounded-tl-none rounded-tr-none\">\n\t\t\t\t\t\t<Button variant=\"outline\" onClick={ handleCancelClick }>\n\t\t\t\t\t\t\t{ cancelButtonText }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={ handleApplyClick }>\n\t\t\t\t\t\t\t{ applyButtonText }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tdisabled={ disabled }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( variant === 'presets' ) {\n\t\treturn (\n\t\t\t<div className=\"flex flex-row shadow-datepicker-wrapper\">\n\t\t\t\t<div className=\"flex flex-col gap-1 p-3 items-start border border-solid border-border-subtle border-r-0 rounded-tl-md rounded-bl-md bg-background-primary\">\n\t\t\t\t\t{ presets.map( ( preset, index ) => {\n\t\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t\tselectedDates &&\n\t\t\t\t\t\t\t'from' in selectedDates &&\n\t\t\t\t\t\t\t'to' in selectedDates &&\n\t\t\t\t\t\t\tselectedDates.from?.getTime() ===\n\t\t\t\t\t\t\t\tpreset.range.from.getTime() &&\n\t\t\t\t\t\t\tselectedDates.to?.getTime() ===\n\t\t\t\t\t\t\t\tpreset.range.to.getTime();\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\tonClick={ () => handlePresetClick( preset.range ) }\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t'text-left font-medium text-sm text-nowrap w-full',\n\t\t\t\t\t\t\t\t\tisSelected && 'bg-brand-background-50'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t\t<DatePickerComponent\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tmode={ selectionType }\n\t\t\t\t\tselectedDates={ selectedDates }\n\t\t\t\t\tsetSelectedDates={\n\t\t\t\t\t\thandleSelect as (\n\t\t\t\t\t\t\tdates: Date | Date[] | TDateRange | undefined\n\t\t\t\t\t\t) => void\n\t\t\t\t\t}\n\t\t\t\t\tvariant={ variant }\n\t\t\t\t\tshowOutsideDays={ showOutsideDays }\n\t\t\t\t\twidth=\"w-auto\"\n\t\t\t\t\tnumberOfMonths={ 2 }\n\t\t\t\t\tfooter={\n\t\t\t\t\t\t<div className=\"flex justify-end p-2 gap-3 border-l border-r border-t-0 border-b border-solid border-border-subtle bg-background-primary rounded-br-md\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={ handleCancelClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ cancelButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={ handleApplyClick }>\n\t\t\t\t\t\t\t\t{ applyButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default DatePicker;\n"],"names":["DatePicker","selectionType","variant","customPresets","onCancel","onApply","onDateSelect","applyButtonText","cancelButtonText","showOutsideDays","isFooter","selected","disabled","props","selectedDates","setSelectedDates","useState","getDefaultSelectedValue","isValidMultiple","isValidRange","isValidSingle","handleSelect","selectedDate","defaultPresets","startOfToday","startOfYesterday","startOfWeek","endOfWeek","startOfDay","subDays","startOfMonth","endOfMonth","presets","handlePresetClick","range","handleCancelClick","handleApplyClick","jsx","DatePickerComponent","jsxs","Button","preset","index","isSelected","cn"],"mappings":"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"}