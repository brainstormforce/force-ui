{"version":3,"file":"datepicker.es.js","sources":["../../../src/components/datepicker/datepicker.tsx"],"sourcesContent":["import { useState } from 'react';\nimport DatePickerComponent, { TDateRange } from './datepicker-component';\nimport Button from '../button';\nimport {\n\tstartOfToday,\n\tstartOfYesterday,\n\tstartOfWeek,\n\tendOfWeek,\n\tstartOfMonth,\n\tendOfMonth,\n\tsubDays,\n\tstartOfDay,\n} from 'date-fns';\nimport { getDefaultSelectedValue } from './utils';\nimport { type PropsBase } from 'react-day-picker';\nimport { cn } from '@/utilities/functions';\n\nexport interface DatePickerProps {\n\t/** Defines the selection selectionType of the date picker: single, range, or multiple dates. */\n\tselectionType?: 'single' | 'range' | 'multiple';\n\t/** Defines the variant of the date picker: normal, dualdate, or presets. */\n\tvariant?: 'normal' | 'dualdate' | 'presets';\n\t/** An array of custom presets. */\n\tpresets?: { label: string; range: { from: Date; to: Date } }[];\n\t/** Callback function to be executed when the cancel button is clicked. */\n\tonCancel?: () => void;\n\t/** Callback function to be executed when the apply button is clicked. */\n\tonApply?: ( selectedDates: Date | { from: Date; to: Date } | Date[] ) => void;\n\t/** Callback function to be executed when a date is selected. */\n\tonDateSelect?: ( date: Date | Date[] | TDateRange | undefined ) => void;\n\t/** Text displayed on the Apply button. */\n\tapplyButtonText?: string;\n\t/** Text displayed on the Cancel button. */\n\tcancelButtonText?: string;\n\t/** Show or hide days outside of the current month. */\n\tshowOutsideDays?: boolean;\n\t/** Show or hide the footer. */\n\tisFooter?: boolean;\n\t/** Selected date value. */\n\tselected?: Date | Date[] | TDateRange | undefined;\n\t/**\n\t * Disable the date picker based on the condition.\n\t * Example:\n\t * To disable future dates, set the condition as:\n\t * ```jsx\n\t * disabled={{ after: new Date(), before:\"\" }}\n\t * ```\n\t * @default undefined\n\t */\n\tdisabled?: PropsBase['disabled'];\n}\n\nconst DatePicker = ( {\n\tselectionType = 'single',\n\tvariant = 'normal',\n\tpresets: customPresets = [],\n\tonCancel,\n\tonApply,\n\tonDateSelect,\n\tapplyButtonText = 'Apply',\n\tcancelButtonText = 'Cancel',\n\tshowOutsideDays = true,\n\tisFooter = true,\n\tselected,\n\tdisabled,\n\t...props\n}: DatePickerProps ) => {\n\tconst [ selectedDates, setSelectedDates ] = useState<\n\t\tTDateRange | Date | Date[] | undefined\n\t>( () => {\n\t\tif ( ! selected ) {\n\t\t\treturn getDefaultSelectedValue( selectionType );\n\t\t}\n\n\t\t// Type guards for different selection types\n\t\tconst isValidMultiple =\n\t\t\tselectionType === 'multiple' && Array.isArray( selected );\n\t\tconst isValidRange =\n\t\t\tselectionType === 'range' && 'from' in selected && 'to' in selected;\n\t\tconst isValidSingle =\n\t\t\tselectionType === 'single' && selected instanceof Date;\n\n\t\t// Return selected if valid, otherwise return default value\n\t\tif ( isValidMultiple || isValidRange || isValidSingle ) {\n\t\t\treturn selected;\n\t\t}\n\n\t\treturn getDefaultSelectedValue( selectionType );\n\t} );\n\n\tconst handleSelect = (\n\t\tselectedDate: Date | Date[] | TDateRange | undefined\n\t) => {\n\t\tsetSelectedDates( selectedDate );\n\t\tif ( onDateSelect ) {\n\t\t\tonDateSelect( selectedDate );\n\t\t}\n\t};\n\n\tconst defaultPresets = [\n\t\t{\n\t\t\tlabel: 'Today',\n\t\t\trange: { from: startOfToday(), to: startOfToday() },\n\t\t},\n\t\t{\n\t\t\tlabel: 'Yesterday',\n\t\t\trange: { from: startOfYesterday(), to: startOfYesterday() },\n\t\t},\n\t\t{\n\t\t\tlabel: 'This Week',\n\t\t\trange: {\n\t\t\t\tfrom: startOfWeek( new Date(), { weekStartsOn: 1 } ),\n\t\t\t\tto: endOfWeek( new Date(), { weekStartsOn: 1 } ),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: 'Last 7 Days',\n\t\t\trange: {\n\t\t\t\tfrom: startOfDay( subDays( new Date(), 6 ) ),\n\t\t\t\tto: startOfDay( new Date() ),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: 'This Month',\n\t\t\trange: {\n\t\t\t\tfrom: startOfMonth( new Date() ),\n\t\t\t\tto: endOfMonth( new Date() ),\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: 'Last 30 Days',\n\t\t\trange: {\n\t\t\t\tfrom: startOfDay( subDays( new Date(), 29 ) ),\n\t\t\t\tto: startOfDay( new Date() ),\n\t\t\t},\n\t\t},\n\t];\n\n\tconst presets = customPresets.length > 0 ? customPresets : defaultPresets;\n\n\tconst handlePresetClick = ( range: { from: Date; to: Date } ) => {\n\t\tsetSelectedDates( range );\n\t};\n\n\tconst handleCancelClick = () => {\n\t\tsetSelectedDates(\n\t\t\tselectionType === 'multiple'\n\t\t\t\t? []\n\t\t\t\t: { from: undefined, to: undefined }\n\t\t);\n\t\tif ( onCancel ) {\n\t\t\tonCancel();\n\t\t}\n\t};\n\n\tconst handleApplyClick = () => {\n\t\tif ( onApply ) {\n\t\t\tonApply( selectedDates as Date | { from: Date; to: Date } | Date[] );\n\t\t}\n\t};\n\n\tif ( variant === 'normal' ) {\n\t\treturn (\n\t\t\t<DatePickerComponent\n\t\t\t\t{ ...props }\n\t\t\t\tmode={ selectionType }\n\t\t\t\tvariant={ variant }\n\t\t\t\twidth=\"w-[18.5rem]\"\n\t\t\t\tselectedDates={ selectedDates }\n\t\t\t\tshowOutsideDays={ showOutsideDays }\n\t\t\t\tsetSelectedDates={\n\t\t\t\t\thandleSelect as (\n\t\t\t\t\t\tdates: Date | Date[] | TDateRange | undefined\n\t\t\t\t\t) => void\n\t\t\t\t}\n\t\t\t\tfooter={\n\t\t\t\t\tisFooter && (\n\t\t\t\t\t\t<div className=\"flex bg-background-primary justify-end p-2 gap-3 border border-solid border-border-subtle border-t-0 rounded-md rounded-tl-none rounded-tr-none\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={ handleCancelClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ cancelButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={ handleApplyClick }>\n\t\t\t\t\t\t\t\t{ applyButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tdisabled={ disabled }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( variant === 'dualdate' ) {\n\t\treturn (\n\t\t\t<DatePickerComponent\n\t\t\t\tmode={ selectionType }\n\t\t\t\tnumberOfMonths={ 2 }\n\t\t\t\talignment=\"horizontal\"\n\t\t\t\tselectedDates={ selectedDates }\n\t\t\t\tsetSelectedDates={\n\t\t\t\t\thandleSelect as (\n\t\t\t\t\t\tdates: Date | Date[] | TDateRange | undefined\n\t\t\t\t\t) => void\n\t\t\t\t}\n\t\t\t\tshowOutsideDays={ showOutsideDays }\n\t\t\t\tvariant={ variant }\n\t\t\t\twidth=\"w-auto\"\n\t\t\t\tfooter={\n\t\t\t\t\t<div className=\"flex bg-background-primary justify-end p-2 gap-3 border border-solid border-border-subtle border-t-0 rounded-md rounded-tl-none rounded-tr-none\">\n\t\t\t\t\t\t<Button variant=\"outline\" onClick={ handleCancelClick }>\n\t\t\t\t\t\t\t{ cancelButtonText }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button onClick={ handleApplyClick }>\n\t\t\t\t\t\t\t{ applyButtonText }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\tdisabled={ disabled }\n\t\t\t\t{ ...props }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( variant === 'presets' ) {\n\t\treturn (\n\t\t\t<div className=\"flex flex-row shadow-datepicker-wrapper\">\n\t\t\t\t<div className=\"flex flex-col gap-1 p-3 items-start border border-solid border-border-subtle border-r-0 rounded-tl-md rounded-bl-md bg-background-primary\">\n\t\t\t\t\t{ presets.map( ( preset, index ) => {\n\t\t\t\t\t\tconst isSelected =\n\t\t\t\t\t\t\tselectedDates &&\n\t\t\t\t\t\t\t'from' in selectedDates &&\n\t\t\t\t\t\t\t'to' in selectedDates &&\n\t\t\t\t\t\t\tselectedDates.from?.getTime() ===\n\t\t\t\t\t\t\t\tpreset.range.from.getTime() &&\n\t\t\t\t\t\t\tselectedDates.to?.getTime() ===\n\t\t\t\t\t\t\t\tpreset.range.to.getTime();\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\t\tonClick={ () => handlePresetClick( preset.range ) }\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t'text-left font-medium text-sm text-nowrap w-full',\n\t\t\t\t\t\t\t\t\tisSelected && 'bg-brand-background-50'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ preset.label }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t);\n\t\t\t\t\t} ) }\n\t\t\t\t</div>\n\t\t\t\t<DatePickerComponent\n\t\t\t\t\t{ ...props }\n\t\t\t\t\tmode={ selectionType }\n\t\t\t\t\tselectedDates={ selectedDates }\n\t\t\t\t\tsetSelectedDates={\n\t\t\t\t\t\thandleSelect as (\n\t\t\t\t\t\t\tdates: Date | Date[] | TDateRange | undefined\n\t\t\t\t\t\t) => void\n\t\t\t\t\t}\n\t\t\t\t\tvariant={ variant }\n\t\t\t\t\tshowOutsideDays={ showOutsideDays }\n\t\t\t\t\twidth=\"w-auto\"\n\t\t\t\t\tnumberOfMonths={ 2 }\n\t\t\t\t\tfooter={\n\t\t\t\t\t\t<div className=\"flex justify-end p-2 gap-3 border-l border-r border-t-0 border-b border-solid border-border-subtle bg-background-primary rounded-br-md\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tonClick={ handleCancelClick }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ cancelButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={ handleApplyClick }>\n\t\t\t\t\t\t\t\t{ applyButtonText }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nexport default DatePicker;\n"],"names":["DatePicker","selectionType","variant","customPresets","onCancel","onApply","onDateSelect","applyButtonText","cancelButtonText","showOutsideDays","isFooter","selected","disabled","props","selectedDates","setSelectedDates","useState","getDefaultSelectedValue","isValidMultiple","isValidRange","isValidSingle","handleSelect","selectedDate","defaultPresets","startOfToday","startOfYesterday","startOfWeek","endOfWeek","startOfDay","subDays","startOfMonth","endOfMonth","presets","handlePresetClick","range","handleCancelClick","handleApplyClick","jsx","DatePickerComponent","jsxs","Button","preset","index","isSelected","cn"],"mappings":"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"}