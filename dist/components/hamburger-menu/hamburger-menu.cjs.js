"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const n=require("react/jsx-runtime"),g=require("../../utilities/functions.cjs.js"),d=require("framer-motion"),i=require("react"),N=require("../topbar/utils.cjs.js"),O=require("../button/button.cjs.js"),y=i.createContext({}),R=y.Provider,v=()=>i.useContext(y),M=e=>{const t=i.useRef({width:0,height:0});return i.useEffect(()=>{e.current&&(t.current.width=e.current.offsetWidth,t.current.height=e.current.offsetHeight)},[]),t.current},T=(e,t,r)=>{if(!e||!t)return{open:()=>({}),closed:()=>({})};const s=e?.getBoundingClientRect(),o=t?.getBoundingClientRect(),a=r?s?.x-o?.x+s?.width/2:o?.width-(o?.right-s?.x)+s?.width/2,l=s?.y-o?.y+s?.height/2,c=s?.width/2;return{open:(u=1e3)=>({clipPath:`circle(${u*2+200}px at ${a}px ${l}px)`,background:"rgb(255, 255, 255, 1)",transition:{type:"spring",stiffness:20,restDelta:2,background:{duration:0}}}),closed:{clipPath:`circle(${c}px at ${a}px ${l}px)`,background:"rgb(255, 255, 255, 0)",transition:{delay:.5,type:"spring",stiffness:400,damping:40,background:{duration:0,delay:1e3}}}}},f=e=>n.jsx(d.motion.path,{className:"stroke-icon-primary",fill:"transparent",strokeWidth:"3",strokeLinecap:"round",...e}),h=({className:e})=>{const{toggleOpen:t,setTriggerRef:r}=v();return n.jsx(O.default,{ref:r,className:g.cn("relative z-[1] rounded-full hover:shadow-sm focus:[box-shadow:none] pointer-events-auto bg-background-primary",e),variant:"ghost",size:"xs",onClick:t,"aria-label":"Toggle menu",icon:n.jsxs(d.motion.svg,{className:"shrink-0 stroke-icon-primary",width:"23",height:"23",variants:{open:{viewBox:"0 0 20 20"},closed:{viewBox:"0 0 23 18"}},children:[n.jsx(f,{variants:{closed:{d:"M 2 2.5 L 20 2.5"},open:{d:"M 3 16.5 L 17 2.5"}}}),n.jsx(f,{d:"M 2 9.423 L 20 9.423",variants:{closed:{opacity:1},open:{opacity:0}},transition:{duration:.1}}),n.jsx(f,{variants:{closed:{d:"M 2 16.346 L 20 16.346"},open:{d:"M 3 2.5 L 17 16.346"}}})]})})},H={open:{transition:{staggerChildren:.07,delayChildren:.2}},closed:{transition:{staggerChildren:.05,staggerDirection:-1}}},x=({tag:e="a",active:t,icon:r,iconPosition:s="left",className:o,children:a,...l})=>{let c=null,u=null;const m=r&&i.isValidElement(r)?i.cloneElement(r,{key:"left-icon",className:g.cn("size-5",t?"text-brand-800":"text-icon-secondary",r.props?.className??"")}):null;switch(s){case"left":c=m;break;case"right":u=m;break;default:c=null,u=null;break}return n.jsx(w,{children:n.jsxs(e,{className:g.cn("w-full no-underline hover:no-underline text-text-primary text-lg font-medium flex items-center gap-2 px-2.5 py-1.5 rounded-md hover:bg-background-secondary hover:text-text-primary focus:outline-none focus:shadow-none transition ease-in-out duration-150",t?"text-text-primary bg-background-secondary":"text-text-secondary",o),...l,children:[!!c&&c,n.jsx("span",{className:"contents",children:a}),!!u&&u]})})},C={open:{y:0,opacity:1,transition:{y:{stiffness:1e3,velocity:-100}}},closed:{y:50,opacity:0,transition:{y:{stiffness:1e3}}}},w=({children:e})=>n.jsx(d.motion.li,{className:"m-0 p-0 flex items-center justify-start w-full",variants:C,whileHover:{scale:1.05},whileTap:{scale:.95},children:e}),b=({children:e,className:t})=>{const{triggerRef:r,triggerOnRight:s,triggerOnLeft:o}=v(),[a,l]=i.useState(null);return r?n.jsxs(d.motion.div,{ref:l,className:g.cn("absolute top-0 bottom-0 w-80 h-screen",s?"right-0":"left-0",t),children:[a&&n.jsx(d.motion.div,{className:g.cn("bg-background-primary shadow-lg absolute top-0 bottom-0 w-80 border-y-0 border-l-0 border-r border-solid border-border-subtle",s?"right-0":"left-0"),variants:T(r,a,o??!1)}),n.jsx(d.motion.ul,{variants:H,className:g.cn("relative mt-14 mb-0 w-full px-5 pb-5 pt-2 flex flex-col items-start justify-start gap-0.5",t),children:e})]}):null},p=({className:e,children:t})=>{const[r,s]=d.useCycle(!1,!0),[o,a]=i.useState(null),l=i.useRef(null),{height:c}=M(l),{isRight:u=!1,isLeft:m=!0}=N.getElementPositionRelativeToScreen(o),j={isOpen:r,toggleOpen:s,setTriggerRef:k=>{i.startTransition(()=>{a(k)})},triggerRef:o,triggerOnRight:u,triggerOnLeft:m};return n.jsx(R,{value:j,children:n.jsx("div",{className:g.cn("size-6 z-[1]",e),children:n.jsx(d.motion.nav,{className:"h-full",initial:!1,animate:r?"open":"closed",custom:c,variants:{open:{pointerEvents:"auto"},closed:{pointerEvents:"none"}},ref:l,children:t})})})};p.displayName="HamburgerMenu";h.displayName="HamburgerMenu.Toggle";b.displayName="HamburgerMenu.Options";x.displayName="HamburgerMenu.Option";p.Options=b;p.Option=x;p.Toggle=h;exports.HamburgerMenu=p;exports.MenuItem=w;exports.MenuOption=x;exports.MenuOptions=b;exports.MenuToggle=h;exports.default=p;exports.useDimensions=M;
//# sourceMappingURL=hamburger-menu.cjs.js.map
