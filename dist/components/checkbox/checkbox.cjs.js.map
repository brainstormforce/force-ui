{"version":3,"file":"checkbox.cjs.js","sources":["../../../src/components/checkbox/checkbox.tsx"],"sourcesContent":["import {\n\tuseState,\n\tuseCallback,\n\tuseMemo,\n\tforwardRef,\n\tisValidElement,\n} from 'react';\nimport { nanoid } from 'nanoid';\nimport { cn } from '@/utilities/functions';\nimport { Check, Minus } from 'lucide-react';\nimport Label from '../label/label';\n\n// Types for Component Props\nexport declare interface CheckboxProps {\n\t/** Defines the content associated with the checkbox. */\n\tlabel?: { heading?: string; description?: string } | undefined;\n\t/** ID of the checkbox input. */\n\tid?: string;\n\t/** Default checked state (uncontrolled). */\n\tdefaultChecked?: boolean;\n\t/** Controlled checked state. */\n\tchecked?: boolean;\n\t/** Change event handler. */\n\tonChange?: ( checked: boolean ) => void;\n\t/** If true, renders indeterminate state. */\n\tindeterminate?: boolean;\n\t/** If true, disables the checkbox. */\n\tdisabled?: boolean;\n\t/** Size of the checkbox (sm or md). */\n\tsize?: 'sm' | 'md';\n\t/** Custom className for the checkbox. */\n\tclassName?: string;\n}\n\nexport const CheckboxComponent = (\n\t{\n\t\tid,\n\t\tlabel,\n\t\tdefaultChecked = false,\n\t\tchecked,\n\t\tonChange,\n\t\tindeterminate,\n\t\tdisabled,\n\t\tsize = 'md',\n\t\tclassName,\n\t\t...props\n\t}: CheckboxProps,\n\tref: React.ForwardedRef<HTMLInputElement>\n) => {\n\tconst checkboxId = useMemo( () => id || `checkbox-${ nanoid() }`, [ id ] );\n\tconst isControlled = useMemo(\n\t\t() => typeof checked !== 'undefined',\n\t\t[ checked ]\n\t);\n\tconst [ isChecked, setIsChecked ] = useState( defaultChecked || false );\n\tconst color = 'primary';\n\n\tconst sizeClassNames = {\n\t\tsm: {\n\t\t\tcheckbox: 'size-4 rounded gap-1',\n\t\t\ticon: 'size-3',\n\t\t\ttext: 'text-sm', // text class for sm\n\t\t\tdescription: 'text-sm',\n\t\t\tgap: 'gap-0.5',\n\t\t},\n\t\tmd: {\n\t\t\tcheckbox: 'size-5 rounded gap-1',\n\t\t\ticon: 'size-4',\n\t\t\ttext: 'text-base', // text class for md\n\t\t\tdescription: 'text-sm',\n\t\t\tgap: 'gap-1',\n\t\t},\n\t};\n\tconst colorClassNames = {\n\t\tprimary: {\n\t\t\tcheckbox:\n\t\t\t\t'border-border-strong hover:border-border-interactive checked:border-border-interactive bg-white checked:bg-toggle-on checked:hover:bg-toggle-on-hover checked:hover:border-toggle-on-hover focus:ring-2 focus:ring-offset-2 focus:ring-focus',\n\t\t\ticon: 'text-white',\n\t\t},\n\t};\n\tconst disabledClassNames = {\n\t\tcheckbox:\n\t\t\t'cursor-not-allowed disabled:bg-white checked:disabled:bg-white disabled:border-border-disabled checked:disabled:border-border-disabled',\n\t\ticon: 'cursor-not-allowed peer-disabled:text-border-disabled',\n\t};\n\n\tconst getValue = useCallback(\n\t\t() => ( isControlled ? checked : isChecked ),\n\t\t[ isControlled, checked, isChecked ]\n\t);\n\n\tconst handleChange = ( event: React.ChangeEvent<HTMLInputElement> ) => {\n\t\tif ( disabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newValue = event.target.checked;\n\t\tif ( ! isControlled ) {\n\t\t\tsetIsChecked( newValue );\n\t\t}\n\n\t\tif ( typeof onChange !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\t\tonChange( newValue );\n\t};\n\n\tconst renderLabel = useCallback( () => {\n\t\tif ( isValidElement( label ) ) {\n\t\t\treturn label;\n\t\t}\n\n\t\tif ( ! label?.heading && ! label?.description ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={ sizeClassNames[ size ].gap }>\n\t\t\t\t{ label?.heading && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t'text-text-primary font-medium leading-4 m-0',\n\t\t\t\t\t\t\tsizeClassNames[ size ].text,\n\t\t\t\t\t\t\tsizeClassNames[ size ].gap,\n\t\t\t\t\t\t\tdisabled && 'text-text-disabled'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\thtmlFor={ checkboxId }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label?.heading }\n\t\t\t\t\t</Label>\n\t\t\t\t) }\n\t\t\t\t{ label?.description && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttag=\"p\"\n\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t'font-normal leading-5 m-0',\n\t\t\t\t\t\t\tsizeClassNames[ size ].description,\n\t\t\t\t\t\t\tdisabled && 'text-text-disabled'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvariant=\"help\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ label?.description }\n\t\t\t\t\t</Label>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t}, [ label, size, disabled ] );\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ cn(\n\t\t\t\t'inline-flex items-center justify-center gap-2',\n\t\t\t\t!! label && 'items-start',\n\t\t\t\tdisabled && 'cursor-not-allowed'\n\t\t\t) }\n\t\t>\n\t\t\t<label\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'relative flex items-center justify-center rounded-full p-0.5',\n\t\t\t\t\t! disabled && 'cursor-pointer'\n\t\t\t\t) }\n\t\t\t\thtmlFor={ checkboxId }\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tid={ checkboxId }\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\"peer relative cursor-pointer appearance-none transition-all m-0 before:content-[''] checked:before:content-[''] checked:before:hidden before:hidden !border-1.5 border-solid\",\n\t\t\t\t\t\tcolorClassNames[ color ].checkbox,\n\t\t\t\t\t\tsizeClassNames[ size ].checkbox,\n\t\t\t\t\t\tdisabled && disabledClassNames.checkbox,\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\tchecked={ getValue() }\n\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t\t<span\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'pointer-events-none inline-flex items-center absolute top-2/4 not-rtl:left-2/4 rtl:right-2/4 -translate-y-2/4 -translate-x-2/4 text-white opacity-0 transition-opacity peer-checked:opacity-100',\n\t\t\t\t\t\tcolorClassNames[ color ].icon,\n\t\t\t\t\t\tdisabled && disabledClassNames.icon\n\t\t\t\t\t) }\n\t\t\t\t>\n\t\t\t\t\t{ indeterminate ? (\n\t\t\t\t\t\t<Minus className={ cn( sizeClassNames[ size ]?.icon ) } />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Check className={ cn( sizeClassNames[ size ]?.icon ) } />\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t</label>\n\t\t\t{ !! label && renderLabel() }\n\t\t</div>\n\t);\n};\n\nconst Checkbox = forwardRef<HTMLInputElement, CheckboxProps>( CheckboxComponent );\n\nCheckbox.displayName = 'Checkbox';\n\nexport default Checkbox;\n"],"names":["CheckboxComponent","id","label","defaultChecked","checked","onChange","indeterminate","disabled","size","className","props","ref","checkboxId","useMemo","nanoid","isControlled","isChecked","setIsChecked","useState","color","sizeClassNames","colorClassNames","disabledClassNames","getValue","useCallback","handleChange","event","newValue","renderLabel","isValidElement","jsx","Label","cn","jsxs","Minus","Check","Checkbox","forwardRef"],"mappings":"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"}