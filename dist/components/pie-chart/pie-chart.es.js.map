{"version":3,"file":"pie-chart.es.js","sources":["../../../src/components/pie-chart/pie-chart.tsx"],"sourcesContent":["import {\n\tPieChart as PieChartWrapper,\n\tPie,\n\tLabel as PieLabel,\n\tTooltip,\n\tLegend,\n} from 'recharts';\nimport ChartTooltipContent from './chart-tooltip-content';\nimport ChartLegendContent from './chart-legend-content';\nimport Label from '../label';\n\ninterface DataItem {\n\t[key: string]: number | string;\n}\n\nexport interface PieChartProps {\n\t/** An array of objects representing the source data for the chart. */\n\tdata: DataItem[];\n\n\t/** A string which representing the key to access data in each data object. Used for identifying different data series. */\n\tdataKey: string;\n\n\t/** Type of pie chart. It can be `simple` or `donut` */\n\ttype?: 'simple' | 'donut';\n\n\t/** Toggle the visibility of the tooltip on hover, displaying detailed information for each data point. */\n\tshowTooltip?: boolean;\n\n\t/** The tooltip indicator. It can be `dot`, `line`, or `dashed`. */\n\ttooltipIndicator?: 'dot' | 'line' | 'dashed';\n\n\t/** The key to use for the tooltip label. */\n\ttooltipLabelKey?: string;\n\n\t/** When is true it show the label inside `donut` pie chart */\n\tlabel?: boolean;\n\n\t/** Label name which will be displayed inside donut pie chart. */\n\tlabelName?: string;\n\n\t/** Label name color which will be displayed inside donut pie chart. */\n\tlabelNameColor?: string;\n\n\t/** Label value which will be displayed inside donut pie chart. */\n\tlabelValue?: number | string;\n\n\t/** Whether to render the `<Legend />` component to identify data series. */\n\tshowLegend?: boolean;\n\n\t/** Width of the chart container. */\n\tchartWidth?: number;\n\n\t/** Outer radius of the pie chart. */\n\tpieOuterRadius?: number;\n\n\t/** Inner radius of the pie chart. */\n\tpieInnerRadius?: number;\n}\n\nconst PieChart = ( {\n\tdata,\n\tdataKey,\n\ttype = 'simple', // simple, donut\n\tshowTooltip = true,\n\ttooltipIndicator = 'dot', // dot, line, dashed\n\ttooltipLabelKey,\n\tlabel = false,\n\tlabelName = '',\n\tlabelNameColor = '#6B7280',\n\tlabelValue,\n\tshowLegend = false,\n\tchartWidth = 300,\n\tpieOuterRadius = 90,\n\tpieInnerRadius = 60,\n}: PieChartProps ) => {\n\tconst isDonut = type === 'donut';\n\tconst outerRadius = pieOuterRadius; // adjust as needed\n\tconst innerRadius = isDonut ? pieInnerRadius : 0; // innerRadius = 0 for simple pie, non-zero for donut\n\n\tif ( ! data || data.length === 0 ) {\n\t\treturn (\n\t\t\t<Label size=\"sm\" variant=\"help\">\n\t\t\t\tNo data available\n\t\t\t</Label>\n\t\t);\n\t}\n\n\treturn (\n\t\t<PieChartWrapper width={ chartWidth } height={ chartWidth }>\n\t\t\t{ showTooltip && (\n\t\t\t\t<Tooltip\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<ChartTooltipContent\n\t\t\t\t\t\t\tindicator={ tooltipIndicator }\n\t\t\t\t\t\t\tlabelKey={ tooltipLabelKey }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showLegend && <Legend content={ <ChartLegendContent /> } /> }\n\t\t\t<Pie\n\t\t\t\tdata={ data }\n\t\t\t\tcx=\"50%\"\n\t\t\t\tcy=\"50%\"\n\t\t\t\tinnerRadius={ innerRadius }\n\t\t\t\touterRadius={ outerRadius }\n\t\t\t\tdataKey={ dataKey }\n\t\t\t>\n\t\t\t\t{ isDonut && label && (\n\t\t\t\t\t<PieLabel\n\t\t\t\t\t\tcontent={ ( { viewBox } ) => {\n\t\t\t\t\t\t\tif ( viewBox && 'cx' in viewBox && 'cy' in viewBox ) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\tx={ viewBox.cx }\n\t\t\t\t\t\t\t\t\t\ty={ viewBox.cy }\n\t\t\t\t\t\t\t\t\t\ttextAnchor=\"middle\"\n\t\t\t\t\t\t\t\t\t\tdominantBaseline=\"middle\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"space-y-3\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<tspan\n\t\t\t\t\t\t\t\t\t\t\tx={ viewBox.cx }\n\t\t\t\t\t\t\t\t\t\t\tdy=\"-4\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fill-foreground text-xl font-bold\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ labelValue }\n\t\t\t\t\t\t\t\t\t\t</tspan>\n\t\t\t\t\t\t\t\t\t\t<tspan\n\t\t\t\t\t\t\t\t\t\t\tx={ viewBox.cx }\n\t\t\t\t\t\t\t\t\t\t\tdy=\"24\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={ { fill: labelNameColor } }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ labelName }\n\t\t\t\t\t\t\t\t\t\t</tspan>\n\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Pie>\n\t\t</PieChartWrapper>\n\t);\n};\n\nexport default PieChart;\n"],"names":["PieChart","data","dataKey","type","showTooltip","tooltipIndicator","tooltipLabelKey","label","labelName","labelNameColor","labelValue","showLegend","chartWidth","pieOuterRadius","pieInnerRadius","isDonut","outerRadius","innerRadius","Label","jsxs","PieChartWrapper","jsx","Tooltip","ChartTooltipContent","Legend","ChartLegendContent","Pie","PieLabel","viewBox"],"mappings":";;;;;AA2DA,MAAMA,IAAW,CAAE;AAAA,EAClB,MAAAC;AAAA,EACA,SAAAC;AAAA,EACA,MAAAC,IAAO;AAAA;AAAA,EACP,aAAAC,IAAc;AAAA,EACd,kBAAAC,IAAmB;AAAA;AAAA,EACnB,iBAAAC;AAAA,EACA,OAAAC,IAAQ;AAAA,EACR,WAAAC,IAAY;AAAA,EACZ,gBAAAC,IAAiB;AAAA,EACjB,YAAAC;AAAA,EACA,YAAAC,IAAa;AAAA,EACb,YAAAC,IAAa;AAAA,EACb,gBAAAC,IAAiB;AAAA,EACjB,gBAAAC,IAAiB;AAClB,MAAsB;AACrB,QAAMC,IAAUZ,MAAS,SACnBa,IAAcH,GACdI,IAAcF,IAAUD,IAAiB;AAE/C,SAAK,CAAEb,KAAQA,EAAK,WAAW,sBAE5BiB,GAAA,EAAM,MAAK,MAAK,SAAQ,QAAO,UAAA,qBAEhC,IAKD,gBAAAC,EAACC,GAAA,EAAgB,OAAQR,GAAa,QAASA,GAC5C,UAAA;AAAA,IAAAR,KACD,gBAAAiB;AAAA,MAACC;AAAA,MAAA;AAAA,QACA,SACC,gBAAAD;AAAA,UAACE;AAAA,UAAA;AAAA,YACA,WAAYlB;AAAA,YACZ,UAAWC;AAAA,UAAA;AAAA,QAAA;AAAA,MACZ;AAAA,IAAA;AAAA,IAIDK,KAAc,gBAAAU,EAACG,GAAA,EAAO,SAAU,gBAAAH,EAACI,KAAmB,GAAK;AAAA,IAC3D,gBAAAJ;AAAA,MAACK;AAAA,MAAA;AAAA,QACA,MAAAzB;AAAA,QACA,IAAG;AAAA,QACH,IAAG;AAAA,QACH,aAAAgB;AAAA,QACA,aAAAD;AAAA,QACA,SAAAd;AAAA,QAEE,eAAWK,KACZ,gBAAAc;AAAA,UAACM;AAAAA,UAAA;AAAA,YACA,SAAU,CAAE,EAAE,SAAAC,QAAe;AAC5B,kBAAKA,KAAW,QAAQA,KAAW,QAAQA;AAC1C,uBACC,gBAAAT;AAAA,kBAAC;AAAA,kBAAA;AAAA,oBACA,GAAIS,EAAQ;AAAA,oBACZ,GAAIA,EAAQ;AAAA,oBACZ,YAAW;AAAA,oBACX,kBAAiB;AAAA,oBACjB,WAAU;AAAA,oBAEV,UAAA;AAAA,sBAAA,gBAAAP;AAAA,wBAAC;AAAA,wBAAA;AAAA,0BACA,GAAIO,EAAQ;AAAA,0BACZ,IAAG;AAAA,0BACH,WAAU;AAAA,0BAER,UAAAlB;AAAA,wBAAA;AAAA,sBAAA;AAAA,sBAEH,gBAAAW;AAAA,wBAAC;AAAA,wBAAA;AAAA,0BACA,GAAIO,EAAQ;AAAA,0BACZ,IAAG;AAAA,0BACH,WAAU;AAAA,0BACV,OAAQ,EAAE,MAAMnB,EAAA;AAAA,0BAEd,UAAAD;AAAA,wBAAA;AAAA,sBAAA;AAAA,oBACH;AAAA,kBAAA;AAAA,gBAAA;AAAA,YAIJ;AAAA,UAAA;AAAA,QAAA;AAAA,MACD;AAAA,IAAA;AAAA,EAEF,GACD;AAEF;"}