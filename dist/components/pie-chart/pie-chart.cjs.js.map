{"version":3,"file":"pie-chart.cjs.js","sources":["../../../src/components/pie-chart/pie-chart.tsx"],"sourcesContent":["import {\n\tPieChart as PieChartWrapper,\n\tPie,\n\tLabel as PieLabel,\n\tTooltip,\n\tLegend,\n} from 'recharts';\nimport ChartTooltipContent from './chart-tooltip-content';\nimport ChartLegendContent from './chart-legend-content';\nimport Label from '../label';\n\ninterface DataItem {\n\t[key: string]: number | string;\n}\n\nexport interface PieChartProps {\n\t/** An array of objects representing the source data for the chart. */\n\tdata: DataItem[];\n\n\t/** A string which representing the key to access data in each data object. Used for identifying different data series. */\n\tdataKey: string;\n\n\t/** Type of pie chart. It can be `simple` or `donut` */\n\ttype?: 'simple' | 'donut';\n\n\t/** Toggle the visibility of the tooltip on hover, displaying detailed information for each data point. */\n\tshowTooltip?: boolean;\n\n\t/** The tooltip indicator. It can be `dot`, `line`, or `dashed`. */\n\ttooltipIndicator?: 'dot' | 'line' | 'dashed';\n\n\t/** The key to use for the tooltip label. */\n\ttooltipLabelKey?: string;\n\n\t/** When is true it show the label inside `donut` pie chart */\n\tlabel?: boolean;\n\n\t/** Label name which will be displayed inside donut pie chart. */\n\tlabelName?: string;\n\n\t/** Label name color which will be displayed inside donut pie chart. */\n\tlabelNameColor?: string;\n\n\t/** Label value which will be displayed inside donut pie chart. */\n\tlabelValue?: number | string;\n\n\t/** Whether to render the `<Legend />` component to identify data series. */\n\tshowLegend?: boolean;\n\n\t/** Width of the chart container. */\n\tchartWidth?: number;\n\n\t/** Outer radius of the pie chart. */\n\tpieOuterRadius?: number;\n\n\t/** Inner radius of the pie chart. */\n\tpieInnerRadius?: number;\n}\n\nconst PieChart = ( {\n\tdata,\n\tdataKey,\n\ttype = 'simple', // simple, donut\n\tshowTooltip = true,\n\ttooltipIndicator = 'dot', // dot, line, dashed\n\ttooltipLabelKey,\n\tlabel = false,\n\tlabelName = '',\n\tlabelNameColor = '#6B7280',\n\tlabelValue,\n\tshowLegend = false,\n\tchartWidth = 300,\n\tpieOuterRadius = 90,\n\tpieInnerRadius = 60,\n}: PieChartProps ) => {\n\tconst isDonut = type === 'donut';\n\tconst outerRadius = pieOuterRadius; // adjust as needed\n\tconst innerRadius = isDonut ? pieInnerRadius : 0; // innerRadius = 0 for simple pie, non-zero for donut\n\n\tif ( ! data || data.length === 0 ) {\n\t\treturn (\n\t\t\t<Label size=\"sm\" variant=\"help\">\n\t\t\t\tNo data available\n\t\t\t</Label>\n\t\t);\n\t}\n\n\treturn (\n\t\t<PieChartWrapper width={ chartWidth } height={ chartWidth }>\n\t\t\t{ showTooltip && (\n\t\t\t\t<Tooltip\n\t\t\t\t\tcontent={\n\t\t\t\t\t\t<ChartTooltipContent\n\t\t\t\t\t\t\tindicator={ tooltipIndicator }\n\t\t\t\t\t\t\tlabelKey={ tooltipLabelKey }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ showLegend && <Legend content={ <ChartLegendContent /> } /> }\n\t\t\t<Pie\n\t\t\t\tdata={ data }\n\t\t\t\tcx=\"50%\"\n\t\t\t\tcy=\"50%\"\n\t\t\t\tinnerRadius={ innerRadius }\n\t\t\t\touterRadius={ outerRadius }\n\t\t\t\tdataKey={ dataKey }\n\t\t\t>\n\t\t\t\t{ isDonut && label && (\n\t\t\t\t\t<PieLabel\n\t\t\t\t\t\tcontent={ ( { viewBox } ) => {\n\t\t\t\t\t\t\tif ( viewBox && 'cx' in viewBox && 'cy' in viewBox ) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<text\n\t\t\t\t\t\t\t\t\t\tx={ viewBox.cx }\n\t\t\t\t\t\t\t\t\t\ty={ viewBox.cy }\n\t\t\t\t\t\t\t\t\t\ttextAnchor=\"middle\"\n\t\t\t\t\t\t\t\t\t\tdominantBaseline=\"middle\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"space-y-3\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<tspan\n\t\t\t\t\t\t\t\t\t\t\tx={ viewBox.cx }\n\t\t\t\t\t\t\t\t\t\t\tdy=\"-4\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"fill-foreground text-xl font-bold\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ labelValue }\n\t\t\t\t\t\t\t\t\t\t</tspan>\n\t\t\t\t\t\t\t\t\t\t<tspan\n\t\t\t\t\t\t\t\t\t\t\tx={ viewBox.cx }\n\t\t\t\t\t\t\t\t\t\t\tdy=\"24\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-sm\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={ { fill: labelNameColor } }\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{ labelName }\n\t\t\t\t\t\t\t\t\t\t</tspan>\n\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Pie>\n\t\t</PieChartWrapper>\n\t);\n};\n\nexport default PieChart;\n"],"names":["PieChart","data","dataKey","type","showTooltip","tooltipIndicator","tooltipLabelKey","label","labelName","labelNameColor","labelValue","showLegend","chartWidth","pieOuterRadius","pieInnerRadius","isDonut","outerRadius","innerRadius","Label","jsxs","PieChartWrapper","jsx","Tooltip","ChartTooltipContent","Legend","ChartLegendContent","Pie","PieLabel","viewBox"],"mappings":"iSA2DMA,EAAW,CAAE,CAClB,KAAAC,EACA,QAAAC,EACA,KAAAC,EAAO,SACP,YAAAC,EAAc,GACd,iBAAAC,EAAmB,MACnB,gBAAAC,EACAC,MAAAA,EAAQ,GACR,UAAAC,EAAY,GACZ,eAAAC,EAAiB,UACjB,WAAAC,EACA,WAAAC,EAAa,GACb,WAAAC,EAAa,IACb,eAAAC,EAAiB,GACjB,eAAAC,EAAiB,EAClB,IAAsB,CACrB,MAAMC,EAAUZ,IAAS,QACnBa,EAAcH,EACdI,EAAcF,EAAUD,EAAiB,EAE/C,MAAK,CAAEb,GAAQA,EAAK,SAAW,QAE5BiB,UAAM,CAAA,KAAK,KAAK,QAAQ,OAAO,SAEhC,oBAAA,EAKAC,EAAAA,KAAAC,EAAAA,SAAA,CAAgB,MAAQR,EAAa,OAASA,EAC5C,SAAA,CACDR,GAAAiB,EAAA,IAACC,EAAA,QAAA,CACA,QACCD,EAAA,IAACE,EAAA,QAAA,CACA,UAAYlB,EACZ,SAAWC,CAAA,CAAA,CACZ,CAEF,EAECK,GAAeU,EAAAA,IAAAG,EAAAA,OAAA,CAAO,QAAUH,EAAAA,IAACI,WAAmB,CAAA,EAAK,EAC3DJ,EAAA,IAACK,EAAA,IAAA,CACA,KAAAzB,EACA,GAAG,MACH,GAAG,MACH,YAAAgB,EACA,YAAAD,EACA,QAAAd,EAEE,YAAWK,GACZc,EAAA,IAACM,EAAA,MAAA,CACA,QAAU,CAAE,CAAE,QAAAC,KAAe,CAC5B,GAAKA,GAAW,OAAQA,GAAW,OAAQA,EAEzC,OAAAT,EAAA,KAAC,OAAA,CACA,EAAIS,EAAQ,GACZ,EAAIA,EAAQ,GACZ,WAAW,SACX,iBAAiB,SACjB,UAAU,YAEV,SAAA,CAAAP,EAAA,IAAC,QAAA,CACA,EAAIO,EAAQ,GACZ,GAAG,KACH,UAAU,oCAER,SAAAlB,CAAA,CACH,EACAW,EAAA,IAAC,QAAA,CACA,EAAIO,EAAQ,GACZ,GAAG,KACH,UAAU,UACV,MAAQ,CAAE,KAAMnB,CAAe,EAE7B,SAAAD,CAAA,CAAA,CACH,CAAA,CACD,CAEF,CACD,CAAA,CACD,CAAA,CAEF,EACD,CAEF"}