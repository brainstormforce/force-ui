"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const l=require("react/jsx-runtime"),o=require("react"),r=require("@floating-ui/react"),u=require("../../utilities/functions.cjs.js"),m=require("../menu-item/menu-item.cjs.js"),j=o.createContext({}),P=()=>o.useContext(j),i=({placement:e="bottom",offset:t=10,boundary:n="clippingAncestors",children:s,className:M})=>{const[w,p]=o.useState(!1),{refs:d,floatingStyles:S,context:c}=r.useFloating({open:w,onOpenChange:p,placement:e,strategy:"fixed",middleware:[r.offset(t),r.flip({boundary:n}),r.shift({boundary:n})],whileElementsMounted:r.autoUpdate}),b=r.useClick(c),v=r.useDismiss(c),I=r.useRole(c,{role:"menu"}),{getReferenceProps:k,getFloatingProps:E}=r.useInteractions([b,v,I]),{isMounted:F,styles:R}=r.useTransitionStyles(c,{duration:150,initial:{opacity:0,scale:.95},open:{opacity:1,scale:1},close:{opacity:0,scale:.95}}),T=()=>p(a=>!a),q=()=>p(!1);return l.jsx(j.Provider,{value:{refs:d,handleClose:q,isMounted:F,styles:R,floatingStyles:S,getFloatingProps:E},children:l.jsxs("div",{className:u.cn("relative inline-block",M),children:[o.Children.map(s,a=>o.isValidElement(a)&&a?.type?.displayName==="DropdownMenu.Trigger"?o.cloneElement(a,{ref:d.setReference,onClick:T,...k()}):null),o.Children.toArray(s).filter(a=>o.isValidElement(a)&&["DropdownMenu.Portal","DropdownMenu.ContentWrapper"].includes(a.type.displayName||"")).map(a=>a)]})})};i.displayName="DropdownMenu";const D=({children:e,className:t})=>{const{refs:n,floatingStyles:s,getFloatingProps:M,isMounted:w,styles:p}=P();return w&&l.jsx("div",{ref:n.setFloating,className:t,style:{...s,...p},...M(),children:o.Children.map(e,d=>d?.type?.displayName==="DropdownMenu.Content"?d:null)})};D.displayName="DropdownMenu.ContentWrapper";const f=({children:e,root:t,id:n})=>l.jsx(r.FloatingPortal,{id:n,root:t,children:e});f.displayName="DropdownMenu.Portal";const g=o.forwardRef(({children:e,className:t,...n},s)=>o.isValidElement(e)?o.cloneElement(e,{className:u.cn(t,e.props.className),ref:s,...n}):l.jsx("div",{ref:s,className:u.cn("cursor-pointer",t),role:"button",tabIndex:0,...n,children:e}));g.displayName="DropdownMenu.Trigger";const C=({children:e,className:t,...n})=>l.jsx("div",{className:u.cn("border border-solid border-border-subtle rounded-md shadow-lg overflow-hidden",t),children:l.jsx(m.Menu,{...n,children:e})});C.displayName="DropdownMenu.Content";const y=e=>l.jsx(m.Menu.List,{...e});y.displayName="DropdownMenu.List";const x=({children:e,as:t=m.Menu.Item,...n})=>{const{handleClose:s}=P();return e?t===o.Fragment&&o.isValidElement(e)?o.cloneElement(e,{onClick:u.callAll(e.props?.onClick,s)}):l.jsx(t,{...n,className:u.cn("px-2",n.className),onClick:u.callAll(n.onClick,s),children:e}):null};x.displayName="DropdownMenu.Item";const N=e=>l.jsx(m.Menu.Separator,{...e});N.displayName="DropdownMenu.Separator";i.Trigger=g;i.Content=C;i.List=y;i.Item=x;i.Separator=N;i.Portal=f;i.ContentWrapper=D;exports.DropdownMenu=i;exports.DropdownMenuContent=C;exports.DropdownMenuContentWrapper=D;exports.DropdownMenuItem=x;exports.DropdownMenuList=y;exports.DropdownMenuPortal=f;exports.DropdownMenuSeparator=N;exports.DropdownMenuTrigger=g;exports.default=i;
//# sourceMappingURL=dropdown-menu.cjs.js.map
