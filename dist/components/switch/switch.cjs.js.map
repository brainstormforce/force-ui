{"version":3,"file":"switch.cjs.js","sources":["../../../src/components/switch/switch.tsx"],"sourcesContent":["import {\n\tuseState,\n\tuseMemo,\n\tuseCallback,\n\tforwardRef,\n\tisValidElement,\n\ttype ReactNode,\n} from 'react';\nimport { nanoid } from 'nanoid';\nimport { cn } from '@/utilities/functions';\nimport Label from '@/components/label';\n\nexport interface SwitchProps {\n\t/** Unique identifier for the switch component. */\n\tid?: string;\n\n\t/** Callback function triggered when the switch value changes. */\n\tonChange?: ( checked: boolean ) => void;\n\n\t/** Controlled value of the switch (checked or unchecked). */\n\tvalue?: boolean;\n\n\t/** Initial value of the switch (checked or unchecked) when used as an uncontrolled component. */\n\tdefaultValue?: boolean;\n\n\t/**\n\t *  Defines the size of the switch (e.g., 'xs', 'sm', 'md').\n\t *  @default 'sm'\n\t */\n\tsize?: 'xs' | 'sm' | 'md';\n\n\t/** Disables the switch if true. */\n\tdisabled?: boolean;\n\n\t/** Defines the label for the switch, can include heading and description. */\n\tlabel?: {\n\t\t/** Heading for the label. */\n\t\theading?: string;\n\n\t\t/** Description for the label. */\n\t\tdescription?: string;\n\t};\n\n\t/** Name attribute for the switch input. */\n\tname?: string;\n\n\t/** Additional CSS classes for the switch component. */\n\tclassName?: string;\n}\n\nexport const SwitchLabel = ( {\n\tlabel,\n\tswitchId,\n\tdisabled = false,\n\tchildren,\n\tsize,\n}: {\n\tlabel: SwitchProps['label'];\n\tswitchId: string;\n\tdisabled?: boolean;\n\tchildren: ReactNode;\n\tsize: SwitchProps['size'];\n} ) => {\n\tconst headingClasses = {\n\t\txs: 'text-xs leading-4 font-medium',\n\t\tsm: 'text-sm leading-5 font-medium',\n\t\tmd: 'text-base leading-6 font-medium',\n\t};\n\tconst descriptionClasses = {\n\t\txs: 'text-xs leading-4 font-normal',\n\t\tsm: 'text-sm leading-5 font-normal',\n\t\tmd: 'text-sm leading-5 font-normal',\n\t};\n\tconst gapClassNames = {\n\t\txs: 'space-y-0.5',\n\t\tsm: 'space-y-0.5',\n\t\tmd: 'space-y-1',\n\t};\n\tconst isLabelAComponent = isValidElement( label );\n\tif ( isLabelAComponent ) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={ cn( 'inline-flex items-center gap-3', 'items-start' ) }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t{ label }\n\t\t\t</div>\n\t\t);\n\t}\n\tconst renderLabel = () => {\n\t\tconst { heading = '', description = '' } = label || {};\n\t\treturn (\n\t\t\t<div className={ cn( 'space-y-0.5', gapClassNames[ size! ] ) }>\n\t\t\t\t{ heading && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\thtmlFor={ switchId }\n\t\t\t\t\t\tclassName={ cn( 'm-0', headingClasses[ size! ] ) }\n\t\t\t\t\t\t{ ...( disabled && { variant: 'disabled' } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ heading }\n\t\t\t\t\t</Label>\n\t\t\t\t) }\n\t\t\t\t{ description && (\n\t\t\t\t\t<Label\n\t\t\t\t\t\ttag=\"p\"\n\t\t\t\t\t\tvariant=\"help\"\n\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t'text-sm font-normal leading-5 m-0',\n\t\t\t\t\t\t\tdescriptionClasses[ size! ]\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ...( disabled && { variant: 'disabled' } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ description }\n\t\t\t\t\t</Label>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst isEmptyLabel = ! label?.heading && ! label?.description;\n\tconst alignmentClass =\n\t\t! label?.heading || ! label?.description ? 'items-center' : 'items-start';\n\n\tif ( isEmptyLabel ) {\n\t\treturn children;\n\t}\n\n\treturn (\n\t\t<div className={ cn( 'inline-flex', alignmentClass, 'gap-3' ) }>\n\t\t\t{ children }\n\t\t\t{ renderLabel() }\n\t\t</div>\n\t);\n};\n\nexport const SwitchComponent = (\n\t{\n\t\tid,\n\t\tonChange,\n\t\tvalue,\n\t\tdefaultValue = false,\n\t\tsize = 'sm',\n\t\tdisabled = false,\n\t\tlabel = { heading: '', description: '' },\n\t\tname,\n\t\tclassName,\n\t\t...props\n\t}: SwitchProps,\n\tref: React.ForwardedRef<HTMLInputElement>\n) => {\n\t// For backwards compatibility.\n\tconst normalSize =\n\t\t( size as SwitchProps['size'] & 'lg' ) === 'lg' ? 'md' : size;\n\n\tconst isControlled = useMemo( () => typeof value !== 'undefined', [ value ] );\n\tconst switchId = useMemo( () => ( id ? id : `switch-${ nanoid() }` ), [] );\n\tconst [ checked, setChecked ] = useState( defaultValue );\n\tconst color = 'primary';\n\n\tconst getValue = useCallback(\n\t\t() => ( isControlled ? value : checked ),\n\t\t[ isControlled, value, checked ]\n\t);\n\n\tconst handleChange = ( event: React.ChangeEvent<HTMLInputElement> ) => {\n\t\tif ( disabled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newValue = event.target.checked;\n\t\tif ( ! isControlled ) {\n\t\t\tsetChecked( newValue );\n\t\t}\n\n\t\tif ( typeof onChange !== 'function' ) {\n\t\t\treturn;\n\t\t}\n\t\tonChange( newValue );\n\t};\n\n\tconst colorClassNames = {\n\t\tprimary: {\n\t\t\tinput: 'bg-toggle-off checked:bg-toggle-on focus:ring focus:ring-toggle-on focus:ring-offset-2 border border-solid border-toggle-off-border checked:border-toggle-on-border shadow-toggleContainer focus:outline-none checked:focus:border-toggle-on-border focus:border-toggle-off-border',\n\t\t\ttoggleDial: 'bg-toggle-dial-background shadow-toggleDial',\n\t\t},\n\t};\n\tconst colorHoverClassNames = {\n\t\tprimary: {\n\t\t\tinput: 'group-hover/switch:bg-toggle-off-hover checked:group-hover/switch:bg-toggle-on-hover checked:group-hover/switch:border-toggle-on-border',\n\t\t},\n\t};\n\n\tconst sizeClassNames = {\n\t\tmd: {\n\t\t\tcontainer: 'w-11 h-6',\n\t\t\ttoggleDial: 'size-4 peer-checked:translate-x-5',\n\t\t},\n\t\tsm: {\n\t\t\tcontainer: 'w-10 h-5',\n\t\t\ttoggleDial: 'size-3 peer-checked:translate-x-5',\n\t\t},\n\t\txs: {\n\t\t\tcontainer: 'w-8 h-4',\n\t\t\ttoggleDial: 'size-2.5 peer-checked:translate-x-3.75',\n\t\t},\n\t};\n\tconst toggleDialHoverClassNames = {\n\t\tmd: 'group-hover/switch:size-5 group-focus-within/switch:size-5 not-rtl:group-focus-within/switch:left-0.5 rtl:group-focus-within/switch:right-0.5 not-rtl:group-hover/switch:left-0.5 rtl:group-hover/switch:right-0.5',\n\t\tsm: 'group-hover/switch:size-4 group-focus-within/switch:size-4 not-rtl:group-focus-within/switch:left-0.5 rtl:group-focus-within/switch:right-0.5 not-rtl:group-hover/switch:left-0.5 rtl:group-hover/switch:right-0.5',\n\t\txs: 'group-hover/switch:size-3.25 group-focus-within/switch:size-3.25 not-rtl:group-focus-within/switch:left-0.5 rtl:group-focus-within/switch:right-0.5 not-rtl:group-hover/switch:left-0.5 rtl:group-hover/switch:right-0.5',\n\t};\n\n\tconst disabledClassNames = {\n\t\tinput: 'bg-toggle-off-disabled disabled:border-transparent disabled:cursor-not-allowed checked:disabled:bg-toggle-on-disabled disabled:shadow-toggle-disabled',\n\t\ttoggleDial: 'peer-disabled:cursor-not-allowed',\n\t};\n\n\treturn (\n\t\t<SwitchLabel\n\t\t\tlabel={ label }\n\t\t\tswitchId={ switchId }\n\t\t\tdisabled={ disabled }\n\t\t\tsize={ normalSize }\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'relative group/switch inline-block cursor-pointer rounded-full shrink-0',\n\t\t\t\t\tsizeClassNames[ normalSize ].container,\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t<input\n\t\t\t\t\tref={ ref }\n\t\t\t\t\tid={ switchId }\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\"peer appearance-none absolute rounded-full cursor-pointer transition-colors duration-300 h-full w-full  before:content-[''] checked:before:content-[''] m-0 checked:[background-image:none]\",\n\t\t\t\t\t\tcolorClassNames[ color ].input,\n\t\t\t\t\t\tdisabled && disabledClassNames.input,\n\t\t\t\t\t\t! disabled && colorHoverClassNames[ color ].input\n\t\t\t\t\t) }\n\t\t\t\t\tchecked={ getValue() }\n\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t\tname={ name }\n\t\t\t\t\t{ ...props }\n\t\t\t\t/>\n\t\t\t\t<label\n\t\t\t\t\thtmlFor={ switchId }\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\"peer/toggle-dial bg-white border rounded-full absolute cursor-pointer shadow-md before:content[''] before:transition-opacity before:opacity-0 hover:before:opacity-10 before:hidden border-none transition-all duration-300 top-2/4 not-rtl:left-1 rtl:right-1 -translate-y-2/4 before:w-10 before:h-10 before:rounded-full before:absolute before:top-2/4 not-rtl:before:left-2/4 rtl:before:right-2/4 before:-translate-y-2/4 before:-translate-x-2/4\",\n\t\t\t\t\t\tsizeClassNames[ normalSize ].toggleDial,\n\t\t\t\t\t\tcolorClassNames[ color ].toggleDial,\n\t\t\t\t\t\tdisabled && disabledClassNames.toggleDial,\n\t\t\t\t\t\t! disabled && toggleDialHoverClassNames[ normalSize ]\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</SwitchLabel>\n\t);\n};\nconst Switch = forwardRef( SwitchComponent );\nSwitch.displayName = 'Switch';\n\nexport default Switch;\n"],"names":["SwitchLabel","label","switchId","disabled","children","size","headingClasses","descriptionClasses","gapClassNames","isValidElement","jsxs","cn","renderLabel","heading","description","jsx","Label","isEmptyLabel","alignmentClass","SwitchComponent","id","onChange","value","defaultValue","name","className","props","ref","normalSize","isControlled","useMemo","nanoid","checked","setChecked","useState","color","getValue","useCallback","handleChange","event","newValue","colorClassNames","colorHoverClassNames","sizeClassNames","toggleDialHoverClassNames","disabledClassNames","Switch","forwardRef"],"mappings":"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"}