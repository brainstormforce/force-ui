{"version":3,"file":"accordion.cjs.js","sources":["../../../src/components/accordion/accordion.tsx"],"sourcesContent":["import React, {\n\ttype ReactNode,\n\ttype ElementType,\n\ttype MouseEventHandler,\n\tuseState,\n} from 'react';\nimport { Plus, Minus, ChevronDown } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { callAll, cn } from '@/utilities/functions';\n\n// Define common props to be shared by all components\nexport interface CommonProps {\n\t/** Custom class names for additional styling */\n\tclassName?: string;\n\t/** Disables the component */\n\tdisabled?: boolean;\n\t/** Children components */\n\tchildren: ReactNode;\n}\n\n// Define Accordion-specific props\nexport interface AccordionProps extends CommonProps {\n\t/** Type of accordion: 'simple', 'separator', or 'boxed' */\n\ttype?: 'simple' | 'separator' | 'boxed';\n\t/** Initial active item(s) */\n\tdefaultValue?: string | string[];\n\t/** Automatically close other items when one is opened */\n\tautoClose?: boolean;\n}\n\nexport const Accordion = ( {\n\ttype = 'simple',\n\tdefaultValue = [],\n\tautoClose = false,\n\tdisabled = false,\n\tchildren,\n\tclassName,\n}: AccordionProps ) => {\n\tconst [ activeItems, setActiveItems ] = useState(\n\t\tArray.isArray( defaultValue ) ? defaultValue : [ defaultValue ]\n\t);\n\n\tconst handleToggle = ( value: string ) => {\n\t\tsetActiveItems( ( prev ) => {\n\t\t\tif ( autoClose ) {\n\t\t\t\treturn prev.includes( value ) ? [] : [ value ];\n\t\t\t}\n\t\t\treturn prev.includes( value )\n\t\t\t\t? prev.filter( ( item ) => item !== value )\n\t\t\t\t: [ ...prev, value ];\n\t\t} );\n\t};\n\n\tconst typeClasses = type === 'boxed' ? 'space-y-3' : '';\n\n\treturn (\n\t\t<div className={ cn( typeClasses, className ) }>\n\t\t\t{ React.Children.map( children, ( child ) => {\n\t\t\t\tif ( React.isValidElement( child ) && 'value' in child.props ) {\n\t\t\t\t\tconst isCollapsible = child.props.collapsible !== false; // default true\n\t\t\t\t\tconst open = isCollapsible\n\t\t\t\t\t\t? activeItems.includes( child.props.value )\n\t\t\t\t\t\t: true;\n\n\t\t\t\t\treturn React.cloneElement(\n\t\t\t\t\t\tchild as React.ReactElement<AccordionItemProps>,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisOpen: open,\n\t\t\t\t\t\t\tonToggle: isCollapsible\n\t\t\t\t\t\t\t\t? () => handleToggle( child.props.value )\n\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tdisabled: disabled || child.props.disabled,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn child;\n\t\t\t} ) }\n\t\t</div>\n\t);\n};\n\nAccordion.displayName = 'Accordion';\n\n// Define AccordionItem-specific props\n/**\n * Props for an AccordionItem component.\n */\nexport interface AccordionItemProps extends CommonProps {\n\t/** Determines if the item is open */\n\tisOpen?: boolean;\n\t/** Callback to toggle the item's state */\n\tonToggle?: () => void;\n\t/** Accordion type (same as parent) */\n\ttype?: 'simple' | 'separator' | 'boxed';\n\t/** The value associated with the accordion item */\n\tvalue?: string;\n}\n\nexport const AccordionItem = ( {\n\tisOpen,\n\tonToggle,\n\ttype = 'simple',\n\tdisabled = false,\n\tchildren,\n\tclassName,\n}: AccordionItemProps ) => {\n\tconst typeClasses = {\n\t\tsimple: 'border-0',\n\t\tseparator: 'border-0 border-b border-solid border-border-subtle',\n\t\tboxed: 'border border-solid border-border-subtle rounded-md',\n\t}?.[ type ];\n\n\treturn (\n\t\t<div className={ cn( typeClasses, className ) }>\n\t\t\t{ React.Children.map( children, ( child ) =>\n\t\t\t\tReact.isValidElement<AccordionItemProps>( child )\n\t\t\t\t\t? React.cloneElement( child, {\n\t\t\t\t\t\tisOpen,\n\t\t\t\t\t\tonToggle,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tdisabled,\n\t\t\t\t\t} )\n\t\t\t\t\t: child\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nAccordionItem.displayName = 'Accordion.Item';\n\n// Define AccordionTrigger-specific props\nexport interface AccordionTriggerProps extends CommonProps {\n\t/** OnClick handler for the accordion trigger. This works only when collapsible is set to `false`. */\n\tonClick?: () => void;\n\t/** Callback for toggling item state */\n\tonToggle?: () => void;\n\t/** Indicates if the item is open */\n\tisOpen?: boolean;\n\t/** Type of icon to display */\n\ticonType?: 'arrow' | 'plus-minus' | 'none';\n\t/** Element to render trigger as */\n\ttag?: ElementType;\n\t/** Accordion type (same as parent) */\n\ttype?: 'simple' | 'separator' | 'boxed';\n\t/** Specifies whether the accordion item can be collapsed. */\n\tcollapsible?: boolean;\n}\n\nexport const AccordionTrigger = ( {\n\tonClick,\n\tonToggle,\n\tisOpen,\n\ticonType = 'arrow',\n\tcollapsible = true,\n\tdisabled = false,\n\ttag = 'h3',\n\ttype = 'simple',\n\tchildren,\n\tclassName,\n\t...props\n}: AccordionTriggerProps ) => {\n\tconst paddingClasses = {\n\t\tsimple: 'px-2 py-3',\n\t\tseparator: 'px-2 py-4',\n\t\tboxed: 'px-3 py-4',\n\t}?.[ type ];\n\n\tconst renderIcon = () => {\n\t\tif ( ! collapsible ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( iconType === 'arrow' ) {\n\t\t\treturn (\n\t\t\t\t<ChevronDown\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'flex-shrink-0 text-icon-secondary size-5 transition-transform duration-300 ease-in-out',\n\t\t\t\t\t\tisOpen ? 'rotate-180' : 'rotate-0'\n\t\t\t\t\t) }\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif ( iconType === 'plus-minus' ) {\n\t\t\treturn (\n\t\t\t\t<motion.span\n\t\t\t\t\tkey={ isOpen ? 'minus' : 'plus' }\n\t\t\t\t\tinitial={ { opacity: 0, rotate: isOpen ? -180 : 0 } }\n\t\t\t\t\tanimate={ { opacity: 1, rotate: isOpen ? 0 : 180 } }\n\t\t\t\t\texit={ { opacity: 0 } }\n\t\t\t\t\ttransition={ { duration: 0.3, ease: 'easeInOut' } }\n\t\t\t\t\tclassName=\"flex items-center flex-shrink-0 text-icon-secondary\"\n\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t>\n\t\t\t\t\t{ isOpen ? <Minus /> : <Plus /> }\n\t\t\t\t</motion.span>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tconst Tag = tag;\n\treturn (\n\t\t<Tag className=\"flex m-0 hover:bg-background-secondary transition duration-150 ease-in-out\">\n\t\t\t<button\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'flex w-full items-center justify-between text-sm font-medium transition-all appearance-none bg-transparent border-0 cursor-pointer gap-3',\n\t\t\t\t\tpaddingClasses,\n\t\t\t\t\tdisabled && 'cursor-not-allowed opacity-40',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\tonClick={ callAll(\n\t\t\t\t\tonClick,\n\t\t\t\t\t! disabled && collapsible ? onToggle : undefined\n\t\t\t\t) as MouseEventHandler<HTMLButtonElement> }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t\taria-disabled={ disabled }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t<div className=\"flex items-center gap-2 text-text-primary font-semibold text-left\">\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t\t{ renderIcon() }\n\t\t\t</button>\n\t\t</Tag>\n\t);\n};\n\nAccordionTrigger.displayName = 'Accordion.Trigger';\n\n// Define AccordionContent-specific props\nexport interface AccordionContentProps extends CommonProps {\n\t/** Determines if the content is open */\n\tisOpen?: boolean;\n\t/** Accordion type (same as parent) */\n\ttype?: 'simple' | 'separator' | 'boxed';\n}\n\nexport const AccordionContent = ( {\n\tisOpen,\n\tdisabled = false,\n\ttype = 'simple',\n\tchildren,\n\tclassName,\n}: AccordionContentProps ) => {\n\tconst contentVariants = {\n\t\topen: {\n\t\t\theight: 'auto',\n\t\t\topacity: 1,\n\t\t\toverflow: 'unset',\n\t\t\ttransition: {\n\t\t\t\toverflow: {\n\t\t\t\t\tdelay: 1,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tclosed: {\n\t\t\theight: 0,\n\t\t\topacity: 0,\n\t\t\toverflow: 'hidden',\n\t\t},\n\t};\n\n\tconst contentPaddingClasses = {\n\t\tsimple: 'px-2 pb-3',\n\t\tseparator: 'px-2 pb-4',\n\t\tboxed: 'px-3 pb-4',\n\t}?.[ type ];\n\n\treturn (\n\t\t<AnimatePresence initial={ false }>\n\t\t\t{ isOpen && (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey=\"content\"\n\t\t\t\t\tvariants={ contentVariants }\n\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\texit=\"closed\"\n\t\t\t\t\ttransition={ { duration: 0.3, ease: 'easeInOut' } }\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'text-text-secondary w-full text-sm transition-[height, opacity, transform] ease-in box-border',\n\t\t\t\t\t\tdisabled && 'opacity-40',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\taria-hidden={ ! isOpen }\n\t\t\t\t\trole=\"region\"\n\t\t\t\t>\n\t\t\t\t\t<div className={ cn( contentPaddingClasses ) }>{ children }</div>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n};\n\nAccordionContent.displayName = 'Accordion.Content';\n\nexport default Object.assign( Accordion, {\n\tItem: AccordionItem,\n\tTrigger: AccordionTrigger,\n\tContent: AccordionContent,\n} );\n"],"names":["Accordion","type","defaultValue","autoClose","disabled","children","className","activeItems","setActiveItems","useState","handleToggle","value","prev","item","typeClasses","jsx","cn","React","child","isCollapsible","open","AccordionItem","isOpen","onToggle","AccordionTrigger","onClick","iconType","collapsible","tag","props","paddingClasses","renderIcon","ChevronDown","motion","Minus","Plus","Tag","jsxs","callAll","AccordionContent","contentVariants","contentPaddingClasses","AnimatePresence","accordion"],"mappings":"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"}