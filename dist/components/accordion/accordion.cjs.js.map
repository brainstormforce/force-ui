{"version":3,"file":"accordion.cjs.js","sources":["../../../src/components/accordion/accordion.tsx"],"sourcesContent":["import React, { useState, type ReactNode, type ElementType } from 'react';\nimport { Plus, Minus, ChevronDown } from 'lucide-react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { cn } from '@/utilities/functions';\n\n// Define common props to be shared by all components\nexport interface CommonProps {\n\t/** Custom class names for additional styling */\n\tclassName?: string;\n\t/** Disables the component */\n\tdisabled?: boolean;\n\t/** Children components */\n\tchildren: ReactNode;\n}\n\n// Define Accordion-specific props\nexport interface AccordionProps extends CommonProps {\n\t/** Type of accordion: 'simple', 'separator', or 'boxed' */\n\ttype?: 'simple' | 'separator' | 'boxed';\n\t/** Initial active item(s) */\n\tdefaultValue?: string | string[];\n\t/** Automatically close other items when one is opened */\n\tautoClose?: boolean;\n}\n\nexport const Accordion = ( {\n\ttype = 'simple',\n\tdefaultValue = [],\n\tautoClose = false,\n\tdisabled = false,\n\tchildren,\n\tclassName,\n}: AccordionProps ) => {\n\tconst [ activeItems, setActiveItems ] = useState(\n\t\tArray.isArray( defaultValue ) ? defaultValue : [ defaultValue ]\n\t);\n\n\tconst handleToggle = ( value: string ) => {\n\t\tsetActiveItems( ( prev ) => {\n\t\t\tif ( autoClose ) {\n\t\t\t\treturn prev.includes( value ) ? [] : [ value ];\n\t\t\t}\n\t\t\treturn prev.includes( value )\n\t\t\t\t? prev.filter( ( item ) => item !== value )\n\t\t\t\t: [ ...prev, value ];\n\t\t} );\n\t};\n\n\tconst typeClasses = type === 'boxed' ? 'space-y-3' : '';\n\n\treturn (\n\t\t<div className={ cn( typeClasses, className ) }>\n\t\t\t{ React.Children.map( children, ( child ) => {\n\t\t\t\tif ( React.isValidElement( child ) && 'value' in child.props ) {\n\t\t\t\t\treturn React.cloneElement(\n\t\t\t\t\t\tchild as React.ReactElement<AccordionItemProps>,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tisOpen: activeItems.includes( child.props.value ),\n\t\t\t\t\t\t\tonToggle: () => handleToggle( child.props.value ),\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tdisabled: disabled || child.props.disabled,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn child;\n\t\t\t} ) }\n\t\t</div>\n\t);\n};\n\nAccordion.displayName = 'Accordion';\n\n// Define AccordionItem-specific props\n/**\n * Props for an AccordionItem component.\n */\nexport interface AccordionItemProps extends CommonProps {\n\t/** Determines if the item is open */\n\tisOpen?: boolean;\n\t/** Callback to toggle the item's state */\n\tonToggle?: () => void;\n\t/** Accordion type (same as parent) */\n\ttype?: 'simple' | 'separator' | 'boxed';\n\t/** The value associated with the accordion item */\n\tvalue?: string;\n}\n\nexport const AccordionItem = ( {\n\tisOpen,\n\tonToggle,\n\ttype = 'simple',\n\tdisabled = false,\n\tchildren,\n\tclassName,\n}: AccordionItemProps ) => {\n\tconst typeClasses = {\n\t\tsimple: 'border-0',\n\t\tseparator: 'border-0 border-b border-solid border-border-subtle',\n\t\tboxed: 'border border-solid border-border-subtle rounded-md',\n\t}?.[ type ];\n\n\treturn (\n\t\t<div className={ cn( typeClasses, className ) }>\n\t\t\t{ React.Children.map( children, ( child ) =>\n\t\t\t\tReact.isValidElement<AccordionItemProps>( child )\n\t\t\t\t\t? React.cloneElement( child, {\n\t\t\t\t\t\tisOpen,\n\t\t\t\t\t\tonToggle,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\tdisabled,\n\t\t\t\t\t} )\n\t\t\t\t\t: child\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nAccordionItem.displayName = 'Accordion.Item';\n\n// Define AccordionTrigger-specific props\nexport interface AccordionTriggerProps extends CommonProps {\n\t/** Callback for toggling item state */\n\tonToggle?: () => void;\n\t/** Indicates if the item is open */\n\tisOpen?: boolean;\n\t/** Type of icon to display */\n\ticonType?: 'arrow' | 'plus-minus';\n\t/** Element to render trigger as */\n\ttag?: ElementType;\n\t/** Accordion type (same as parent) */\n\ttype?: 'simple' | 'separator' | 'boxed';\n}\n\nexport const AccordionTrigger = ( {\n\tonToggle,\n\tisOpen,\n\ticonType = 'arrow', // arrow, plus-minus\n\tdisabled = false,\n\ttag = 'h3',\n\ttype = 'simple',\n\tchildren,\n\tclassName,\n\t...props\n}: AccordionTriggerProps ) => {\n\tconst paddingClasses = {\n\t\tsimple: 'px-2 py-3',\n\t\tseparator: 'px-2 py-4',\n\t\tboxed: 'px-3 py-4',\n\t}?.[ type ];\n\n\tconst renderIcon = () => {\n\t\tif ( iconType === 'arrow' ) {\n\t\t\treturn (\n\t\t\t\t<ChevronDown\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'flex-shrink-0 text-icon-secondary size-5 transition-transform duration-300 ease-in-out',\n\t\t\t\t\t\tisOpen ? 'rotate-180' : 'rotate-0'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\tif ( iconType === 'plus-minus' ) {\n\t\t\treturn (\n\t\t\t\t<motion.span\n\t\t\t\t\tkey={ isOpen ? 'minus' : 'plus' }\n\t\t\t\t\tinitial={ { opacity: 0, rotate: isOpen ? -180 : 0 } }\n\t\t\t\t\tanimate={ { opacity: 1, rotate: isOpen ? 0 : 180 } }\n\t\t\t\t\texit={ { opacity: 0 } }\n\t\t\t\t\ttransition={ { duration: 0.3, ease: 'easeInOut' } }\n\t\t\t\t\tclassName=\"flex items-center flex-shrink-0 text-icon-secondary\"\n\t\t\t\t>\n\t\t\t\t\t{ isOpen ? <Minus /> : <Plus /> }\n\t\t\t\t</motion.span>\n\t\t\t);\n\t\t}\n\t\treturn null;\n\t};\n\n\tconst Tag = tag;\n\treturn (\n\t\t<Tag className=\"flex m-0 hover:bg-background-secondary transition duration-150 ease-in-out\">\n\t\t\t<button\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'flex w-full items-center justify-between text-sm font-medium transition-all appearance-none bg-transparent border-0 cursor-pointer gap-3',\n\t\t\t\t\tpaddingClasses,\n\t\t\t\t\tdisabled && 'cursor-not-allowed opacity-40',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\tonClick={ ! disabled ? onToggle : () => {} }\n\t\t\t\taria-expanded={ isOpen }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t<div className=\"flex items-center gap-2 text-text-primary font-semibold text-left\">\n\t\t\t\t\t{ children }\n\t\t\t\t</div>\n\t\t\t\t{ renderIcon() }\n\t\t\t</button>\n\t\t</Tag>\n\t);\n};\n\nAccordionTrigger.displayName = 'Accordion.Trigger';\n\n// Define AccordionContent-specific props\nexport interface AccordionContentProps extends CommonProps {\n\t/** Determines if the content is open */\n\tisOpen?: boolean;\n\t/** Accordion type (same as parent) */\n\ttype?: 'simple' | 'separator' | 'boxed';\n}\n\nexport const AccordionContent = ( {\n\tisOpen,\n\tdisabled = false,\n\ttype = 'simple',\n\tchildren,\n\tclassName,\n}: AccordionContentProps ) => {\n\tconst contentVariants = {\n\t\topen: { height: 'auto', opacity: 1 },\n\t\tclosed: { height: 0, opacity: 0 },\n\t};\n\n\tconst contentPaddingClasses = {\n\t\tsimple: 'px-2 pb-3',\n\t\tseparator: 'px-2 pb-4',\n\t\tboxed: 'px-3 pb-4',\n\t}?.[ type ];\n\n\treturn (\n\t\t<AnimatePresence initial={ false }>\n\t\t\t{ isOpen && (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey=\"content\"\n\t\t\t\t\tvariants={ contentVariants }\n\t\t\t\t\tinitial=\"closed\"\n\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\texit=\"closed\"\n\t\t\t\t\ttransition={ { duration: 0.3, ease: 'easeInOut' } }\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'overflow-hidden text-text-secondary w-full text-sm transition-[height, opacity, transform] ease-in box-border',\n\t\t\t\t\t\tdisabled && 'opacity-40',\n\t\t\t\t\t\tclassName\n\t\t\t\t\t) }\n\t\t\t\t\taria-hidden={ ! isOpen }\n\t\t\t\t>\n\t\t\t\t\t<div className={ cn( contentPaddingClasses ) }>{ children }</div>\n\t\t\t\t</motion.div>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n};\n\nAccordionContent.displayName = 'Accordion.Content';\n\nexport default Object.assign( Accordion, {\n\tItem: AccordionItem,\n\tTrigger: AccordionTrigger,\n\tContent: AccordionContent,\n} );\n"],"names":["Accordion","type","defaultValue","autoClose","disabled","children","className","activeItems","setActiveItems","useState","handleToggle","value","prev","item","typeClasses","jsx","cn","React","child","AccordionItem","isOpen","onToggle","AccordionTrigger","iconType","tag","props","paddingClasses","renderIcon","ChevronDown","motion","Minus","Plus","Tag","jsxs","AccordionContent","contentVariants","contentPaddingClasses","AnimatePresence","accordion"],"mappings":"uQAyBaA,EAAY,CAAE,CAC1B,KAAAC,EAAO,SACP,aAAAC,EAAe,CAAC,EAChB,UAAAC,EAAY,GACZ,SAAAC,EAAW,GACX,SAAAC,EACA,UAAAC,CACD,IAAuB,CAChB,KAAA,CAAEC,EAAaC,CAAe,EAAIC,EAAA,SACvC,MAAM,QAASP,CAAa,EAAIA,EAAe,CAAEA,CAAa,CAC/D,EAEMQ,EAAiBC,GAAmB,CACzCH,EAAkBI,GACZT,EACGS,EAAK,SAAUD,CAAM,EAAI,CAAC,EAAI,CAAEA,CAAM,EAEvCC,EAAK,SAAUD,CAAM,EACzBC,EAAK,OAAUC,GAAUA,IAASF,CAAM,EACxC,CAAE,GAAGC,EAAMD,CAAM,CACnB,CACH,EAEMG,EAAcb,IAAS,QAAU,YAAc,GAErD,OACEc,EAAA,IAAA,MAAA,CAAI,UAAYC,EAAAA,GAAIF,EAAaR,CAAU,EACzC,SAAAW,EAAM,SAAS,IAAKZ,EAAYa,GAC5BD,EAAM,eAAgBC,CAAM,GAAK,UAAWA,EAAM,MAC/CD,EAAM,aACZC,EACA,CACC,OAAQX,EAAY,SAAUW,EAAM,MAAM,KAAM,EAChD,SAAU,IAAMR,EAAcQ,EAAM,MAAM,KAAM,EAChD,KAAAjB,EACA,SAAUG,GAAYc,EAAM,MAAM,QAAA,CAEpC,EAEMA,CACN,EACH,CAEF,EAEAlB,EAAU,YAAc,YAiBjB,MAAMmB,EAAgB,CAAE,CAC9B,OAAAC,EACA,SAAAC,EACA,KAAApB,EAAO,SACP,SAAAG,EAAW,GACX,SAAAC,EACA,UAAAC,CACD,IAA2B,CAC1B,MAAMQ,EAAc,CACnB,OAAQ,WACR,UAAW,sDACX,MAAO,uDACHb,CAAK,EAGT,OAAAc,MAAC,OAAI,UAAYC,EAAA,GAAIF,EAAaR,CAAU,EACzC,WAAM,SAAS,IAAKD,EAAYa,GACjCD,EAAM,eAAoCC,CAAM,EAC7CD,EAAM,aAAcC,EAAO,CAC5B,OAAAE,EACA,SAAAC,EACA,KAAApB,EACA,SAAAG,CAAA,CACC,EACAc,CAAA,EAEL,CAEF,EAEAC,EAAc,YAAc,iBAgBrB,MAAMG,EAAmB,CAAE,CACjC,SAAAD,EACA,OAAAD,EACA,SAAAG,EAAW,QACX,SAAAnB,EAAW,GACX,IAAAoB,EAAM,KACN,KAAAvB,EAAO,SACP,SAAAI,EACA,UAAAC,EACA,GAAGmB,CACJ,IAA8B,CAC7B,MAAMC,EAAiB,CACtB,OAAQ,YACR,UAAW,YACX,MAAO,aACHzB,CAAK,EAEJ0B,EAAa,IACbJ,IAAa,QAEhBR,EAAA,IAACa,EAAA,YAAA,CACA,UAAYZ,EAAA,GACX,yFACAI,EAAS,aAAe,UAAA,CACzB,CACD,EAGGG,IAAa,aAEhBR,EAAA,IAACc,EAAAA,OAAO,KAAP,CAEA,QAAU,CAAE,QAAS,EAAG,OAAQT,EAAS,KAAO,CAAE,EAClD,QAAU,CAAE,QAAS,EAAG,OAAQA,EAAS,EAAI,GAAI,EACjD,KAAO,CAAE,QAAS,CAAE,EACpB,WAAa,CAAE,SAAU,GAAK,KAAM,WAAY,EAChD,UAAU,sDAER,SAASA,EAAAL,MAACe,EAAAA,MAAM,CAAA,CAAA,QAAMC,EAAAA,KAAK,CAAA,CAAA,CAAA,EAPvBX,EAAS,QAAU,MAQ1B,EAGK,KAGFY,EAAMR,EAEX,OAAAT,EAAAA,IAACiB,EAAI,CAAA,UAAU,6EACd,SAAAC,EAAA,KAAC,SAAA,CACA,UAAYjB,EAAA,GACX,2IACAU,EACAtB,GAAY,gCACZE,CACD,EACA,QAAYF,EAAsB,IAAM,CAAC,EAAlBiB,EACvB,gBAAgBD,EAChB,SAAAhB,EACE,GAAGqB,EAEL,SAAA,CAACV,EAAAA,IAAA,MAAA,CAAI,UAAU,oEACZ,SAAAV,CACH,CAAA,EACEsB,EAAW,CAAA,CAAA,CAAA,EAEf,CAEF,EAEAL,EAAiB,YAAc,oBAUxB,MAAMY,EAAmB,CAAE,CACjC,OAAAd,EACA,SAAAhB,EAAW,GACX,KAAAH,EAAO,SACP,SAAAI,EACA,UAAAC,CACD,IAA8B,CAC7B,MAAM6B,EAAkB,CACvB,KAAM,CAAE,OAAQ,OAAQ,QAAS,CAAE,EACnC,OAAQ,CAAE,OAAQ,EAAG,QAAS,CAAE,CACjC,EAEMC,EAAwB,CAC7B,OAAQ,YACR,UAAW,YACX,MAAO,aACHnC,CAAK,EAEV,OACEc,EAAAA,IAAAsB,EAAAA,gBAAA,CAAgB,QAAU,GACxB,SACDjB,GAAAL,EAAA,IAACc,EAAAA,OAAO,IAAP,CAEA,SAAWM,EACX,QAAQ,SACR,QAAQ,OACR,KAAK,SACL,WAAa,CAAE,SAAU,GAAK,KAAM,WAAY,EAChD,UAAYnB,EAAA,GACX,gHACAZ,GAAY,aACZE,CACD,EACA,cAAc,CAAEc,EAEhB,eAAC,MAAI,CAAA,UAAYJ,KAAIoB,CAAsB,EAAM,SAAA/B,CAAU,CAAA,CAAA,EAbvD,SAAA,EAgBP,CAEF,EAEA6B,EAAiB,YAAc,oBAE/B,MAAAI,EAAe,OAAO,OAAQtC,EAAW,CACxC,KAAMmB,EACN,QAASG,EACT,QAASY,CACV,CAAE"}