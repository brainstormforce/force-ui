{"version":3,"file":"dialog.cjs.js","sources":["../../../src/components/dialog/dialog.tsx"],"sourcesContent":["import {\n\tcloneElement,\n\tcreateContext,\n\ttype ElementType,\n\tFragment,\n\tisValidElement,\n\tuseCallback,\n\tuseContext,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n\ttype ReactNode,\n} from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { callAll, cn } from '@/utilities/functions';\nimport { X } from 'lucide-react';\nimport { createPortal } from 'react-dom';\nimport {\n\tuseFloating,\n\tuseClick,\n\tuseDismiss,\n\tuseRole,\n\tuseInteractions,\n\tFloatingFocusManager,\n\tFloatingOverlay,\n\tFloatingPortal,\n\ttype UseFloatingReturn,\n} from '@floating-ui/react';\n\nexport interface DialogState {\n\topen: boolean;\n\tsetOpen: ( open: boolean ) => void;\n\thandleClose: () => void;\n\tdesign: 'simple' | 'footer-divided';\n\tcontext: UseFloatingReturn['context'];\n\tgetFloatingProps: () => Record<string, unknown>;\n\t// Keep these refs for backward compatibility\n\tdialogContainerRef: React.RefObject<HTMLDivElement | null>;\n\tdialogRef: React.MutableRefObject<HTMLDivElement | null>;\n\tscrollLock: boolean;\n\tclassName: string,\n\trefs: UseFloatingReturn['refs']\n}\n\nconst DialogContext = createContext<Partial<DialogState>>( {} );\nconst useDialogState = () => useContext( DialogContext );\n\nconst animationVariants = {\n\topen: {\n\t\topacity: 1,\n\t},\n\texit: {\n\t\topacity: 0,\n\t},\n};\nconst TRANSITION_DURATION = { duration: 0.2 };\n\nexport interface CommonProps {\n\t/** Additional class name. */\n\tclassName?: string;\n\t/** Additional inline styles. */\n\tstyle?: React.CSSProperties;\n}\n\nexport interface DialogProps extends CommonProps {\n\t/** Control the dialog open state. If not provided, the dialog will be controlled internally. */\n\topen?: boolean;\n\t/** Control the dialog open state. If not provided, the dialog will be controlled internally. */\n\tsetOpen?: ( open: boolean ) => void;\n\t/** Children of the dialog. */\n\tchildren: ReactNode;\n\t/** Trigger element for the dialog. */\n\ttrigger?:\n\t\t| ReactNode\n\t\t| ( ( props: { onClick: () => void } ) => React.ReactElement );\n\t/** Close the dialog on clicking outside the dialog. */\n\texitOnClickOutside?: boolean;\n\t/** Close the dialog on pressing the escape key. */\n\texitOnEsc?: boolean;\n\t/** Design of the dialog. */\n\tdesign?: 'simple' | 'footer-divided';\n\t/** Lock the scroll when the dialog is open. */\n\tscrollLock?: boolean;\n}\n\n// Dialog component.\nconst Dialog = ( {\n\topen,\n\tsetOpen,\n\tchildren,\n\ttrigger = null,\n\tclassName,\n\texitOnClickOutside = false,\n\texitOnEsc = true,\n\tdesign = 'simple',\n\tscrollLock = true,\n}: DialogProps ): JSX.Element => {\n\tconst isControlled = open !== undefined && setOpen !== undefined;\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst dialogRef = useRef<HTMLDivElement | null>( null );\n\tconst dialogContainerRef = useRef( null );\n\n\tconst openState = useMemo(\n\t\t() => ( isControlled ? open : isOpen ),\n\t\t[ open, isOpen ]\n\t);\n\tconst setOpenState = useMemo(\n\t\t() => ( isControlled ? setOpen : setIsOpen ),\n\t\t[ setIsOpen, setOpen ]\n\t);\n\n\t// Floating UI setup\n\tconst { refs, context } = useFloating( {\n\t\topen: openState,\n\t\tonOpenChange: setOpenState,\n\t} );\n\n\tconst click = useClick( context );\n\tconst dismiss = useDismiss( context, {\n\t\tenabled: exitOnClickOutside || exitOnEsc,\n\t\tescapeKey: exitOnEsc,\n\t\toutsidePress: ( event ) => {\n\t\t\tif ( ! exitOnClickOutside ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst target = event?.target as HTMLElement;\n\t\t\tconst isToastElement = target?.closest( 'ul.fui-toast-container' );\n\t\t\treturn ! isToastElement;\n\t\t},\n\t} );\n\tconst role = useRole( context, { role: 'dialog' } );\n\n\tconst { getFloatingProps } = useInteractions( [ click, dismiss, role ] );\n\n\tconst handleOpen = () => {\n\t\tif ( openState ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpenState( true );\n\t};\n\n\tconst handleClose = () => {\n\t\tif ( ! openState ) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetOpenState( false );\n\t};\n\n\tconst renderTrigger = useCallback( () => {\n\t\tif ( isValidElement( trigger ) ) {\n\t\t\treturn cloneElement( trigger as React.ReactElement, {\n\t\t\t\tonClick: callAll( handleOpen, trigger?.props?.onClick ),\n\t\t\t\tref: refs.setReference,\n\t\t\t\t'aria-haspopup': 'dialog', // Added for accessibility\n\t\t\t\t'aria-expanded': openState, // Added for accessibility\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof trigger === 'function' ) {\n\t\t\treturn trigger( { onClick: handleOpen } );\n\t\t}\n\n\t\treturn null;\n\t}, [ trigger, handleOpen, refs.setReference, openState ] );\n\n\treturn (\n\t\t<>\n\t\t\t{ renderTrigger() }\n\t\t\t<DialogContext.Provider\n\t\t\t\tvalue={ {\n\t\t\t\t\topen: openState,\n\t\t\t\t\tsetOpen: setOpenState,\n\t\t\t\t\thandleClose,\n\t\t\t\t\tdesign,\n\t\t\t\t\tcontext,\n\t\t\t\t\tgetFloatingProps,\n\t\t\t\t\trefs,\n\t\t\t\t\tdialogContainerRef,\n\t\t\t\t\tdialogRef,\n\t\t\t\t\tscrollLock,\n\t\t\t\t\tclassName,\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</DialogContext.Provider>\n\t\t</>\n\t);\n};\nDialog.displayName = 'Dialog';\n\nexport interface DialogPanelProps extends CommonProps {\n\t/** Children of the dialog panel. */\n\tchildren: ReactNode | ( ( param: { close: () => void } ) => ReactNode );\n}\n\nexport const DialogPanel = ( {\n\tchildren,\n\tclassName,\n}: DialogPanelProps ): JSX.Element => {\n\tconst {\n\t\topen,\n\t\thandleClose,\n\t\tcontext,\n\t\tgetFloatingProps,\n\t\tdialogRef,\n\t\tscrollLock,\n\t\tdialogContainerRef,\n\t\tclassName: rootClassName,\n\t\trefs,\n\t} = useDialogState();\n\n\tconst dialogContent = (\n\t\t<AnimatePresence>\n\t\t\t{ open && (\n\t\t\t\t<FloatingOverlay\n\t\t\t\t\tref={ dialogContainerRef as React.RefObject<HTMLDivElement> }\n\t\t\t\t\tlockScroll={ scrollLock }\n\t\t\t\t\tclassName={ cn( 'z-999999', rootClassName ) }\n\t\t\t\t\taria-modal=\"true\"\n\t\t\t\t>\n\t\t\t\t\t<FloatingFocusManager\n\t\t\t\t\t\tcontext={ context as UseFloatingReturn['context'] }\n\t\t\t\t\t\t{ ...( refs?.reference && { returnFocus: refs.reference as React.MutableRefObject<HTMLElement> } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tclassName=\"fixed inset-0 overflow-y-auto\"\n\t\t\t\t\t\t\tinitial=\"exit\"\n\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\texit=\"exit\"\n\t\t\t\t\t\t\tvariants={ animationVariants }\n\t\t\t\t\t\t\trole=\"dialog\"\n\t\t\t\t\t\t\taria-modal=\"true\"\n\t\t\t\t\t\t\ttransition={ TRANSITION_DURATION }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-center min-h-full\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tref={ ( node ) => {\n\t\t\t\t\t\t\t\t\t\tif ( node ) {\n\t\t\t\t\t\t\t\t\t\t\t// Set both refs\n\t\t\t\t\t\t\t\t\t\t\tdialogRef!.current = node;\n\t\t\t\t\t\t\t\t\t\t\tif ( context ) {\n\t\t\t\t\t\t\t\t\t\t\t\tcontext.refs.setFloating( node );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t{ ...getFloatingProps?.() }\n\t\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t\t'flex flex-col gap-5 w-120 h-fit bg-background-primary border border-solid border-border-subtle rounded-xl shadow-soft-shadow-2xl my-5 overflow-hidden',\n\t\t\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ typeof children === 'function'\n\t\t\t\t\t\t\t\t\t\t? children( { close: handleClose! } )\n\t\t\t\t\t\t\t\t\t\t: children }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</motion.div>\n\t\t\t\t\t</FloatingFocusManager>\n\t\t\t\t</FloatingOverlay>\n\t\t\t) }\n\t\t</AnimatePresence>\n\t);\n\n\t// If in portal context, don't wrap in portal again\n\treturn dialogContent;\n};\nDialogPanel.displayName = 'Dialog.Panel';\n\n// New Portal component\nexport interface DialogPortalProps {\n\t/** Children of the dialog portal. */\n\tchildren: ReactNode;\n\t/** Id of the dialog portal where the element will be rendered. If not provided, the dialog will be rendered in the body. */\n\tid?: string;\n\t/** Root element of the dialog portal. If not provided, the dialog will be rendered in the body. */\n\troot?: HTMLElement;\n}\n\nexport const DialogPortal = ( {\n\tchildren,\n\t...props\n}: DialogPortalProps ): JSX.Element => {\n\treturn <FloatingPortal { ...props }>{ children }</FloatingPortal>;\n};\nDialogPortal.displayName = 'Dialog.Portal';\n\nexport const DialogBackdrop = ( {\n\tclassName,\n\t...props\n}: CommonProps ): JSX.Element | null => {\n\tconst { open, dialogContainerRef } = useDialogState();\n\n\tif ( ! dialogContainerRef?.current ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ createPortal(\n\t\t\t\t<AnimatePresence>\n\t\t\t\t\t{ open && (\n\t\t\t\t\t\t<motion.div\n\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t'fixed inset-0 -z-10 bg-background-inverse/90',\n\t\t\t\t\t\t\t\tclassName\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ ...props }\n\t\t\t\t\t\t\tinitial=\"exit\"\n\t\t\t\t\t\t\tanimate=\"open\"\n\t\t\t\t\t\t\texit=\"exit\"\n\t\t\t\t\t\t\tvariants={ animationVariants }\n\t\t\t\t\t\t\ttransition={ TRANSITION_DURATION }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</AnimatePresence>,\n\t\t\t\tdialogContainerRef.current\n\t\t\t) }\n\t\t</>\n\t);\n};\nDialogBackdrop.displayName = 'Dialog.Backdrop';\n\nexport interface DialogHeaderProps extends CommonProps {\n\t/** Children of the dialog header. */\n\tchildren: ReactNode;\n}\n\n// Dialog header wrapper.\nexport const DialogHeader = ( {\n\tchildren,\n\tclassName,\n\t...props\n}: DialogHeaderProps ): JSX.Element => {\n\treturn (\n\t\t<div className={ cn( 'space-y-2 px-5 pt-5 pb-1', className ) } { ...props }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n};\nDialogHeader.displayName = 'Dialog.Header';\n\nexport interface DialogTitleProp extends CommonProps {\n\t/** Children of the dialog title. */\n\tchildren: ReactNode;\n\t/** Additional class name for the dialog title. */\n\tas?: ElementType;\n}\n\n// Dialog title.\nexport const DialogTitle = ( {\n\tchildren,\n\tas: Tag = 'h3',\n\tclassName,\n\t...props\n}: DialogTitleProp ): JSX.Element => {\n\treturn (\n\t\t<Tag\n\t\t\tclassName={ cn(\n\t\t\t\t'text-base font-semibold text-text-primary m-0 p-0',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n};\nDialogTitle.displayName = 'Dialog.Title';\n\nexport interface DialogDescriptionProp extends CommonProps {\n\t/** Children of the dialog description. */\n\tchildren: ReactNode;\n\t/** Additional class name for the dialog description. */\n\tas?: ElementType;\n}\n\n// Dialog description.\nexport const DialogDescription = ( {\n\tchildren,\n\tas: Tag = 'p',\n\tclassName,\n\t...props\n}: DialogDescriptionProp ): JSX.Element => {\n\treturn (\n\t\t<Tag\n\t\t\tclassName={ cn(\n\t\t\t\t'text-sm font-normal text-text-secondary my-0 ml-0 mr-1 p-0',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\t{ ...props }\n\t\t>\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n};\nDialogDescription.displayName = 'Dialog.Description';\n\nexport interface DialogCloseButtonProps extends CommonProps {\n\t/** Children of the dialog close button. */\n\tchildren?: ReactNode;\n\t/** Additional class name for the dialog close button. */\n\tas?: ElementType;\n\t/** Additional class name for the dialog close button. */\n\tclassName?: string;\n\t/** Additional props based on the as value. */\n\t[key: string]: unknown;\n}\n\nexport interface DialogDefaultCloseButtonProps extends CommonProps {\n\t/** On click event for the close button. */\n\tonClick?: () => void;\n}\n\n// Default close button for the dialog.\nexport const DefaultCloseButton = ( {\n\tclassName,\n\t...props\n}: DialogDefaultCloseButtonProps ): JSX.Element => {\n\treturn (\n\t\t<button\n\t\t\tclassName={ cn(\n\t\t\t\t'bg-transparent inline-flex justify-center items-center border-0 p-1 m-0 cursor-pointer focus:outline-none outline-none shadow-none',\n\t\t\t\tclassName\n\t\t\t) }\n\t\t\taria-label=\"Close dialog\"\n\t\t\t{ ...props }\n\t\t>\n\t\t\t<X className=\"size-4 text-text-primary shrink-0\" />\n\t\t</button>\n\t);\n};\n\n// Close button for the dialog.\nexport const DialogCloseButton = ( {\n\tchildren,\n\tas: Tag = Fragment,\n\t...props\n}: DialogCloseButtonProps ): JSX.Element | ReactNode => {\n\tconst { handleClose } = useDialogState();\n\n\tif ( ! children ) {\n\t\treturn <DefaultCloseButton onClick={ handleClose } { ...props } />;\n\t}\n\n\tif ( Tag === Fragment ) {\n\t\tif ( typeof children === 'function' ) {\n\t\t\treturn ( children as ( args: { close: () => void } ) => ReactNode )( {\n\t\t\t\tclose: handleClose!,\n\t\t\t} );\n\t\t}\n\n\t\treturn cloneElement( children as React.ReactElement, {\n\t\t\tonClick: handleClose,\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Tag { ...props } onClick={ handleClose } aria-label=\"Close dialog\">\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n};\nDialogCloseButton.displayName = 'Dialog.CloseButton';\n\nexport interface DialogBodyProps extends CommonProps {\n\t/** Children of the dialog body. */\n\tchildren: ReactNode;\n}\n\n// Dialog body.\nexport const DialogBody = ( {\n\tchildren,\n\tclassName,\n\t...props\n}: DialogBodyProps ): JSX.Element => {\n\treturn (\n\t\t<div className={ cn( 'px-5', className ) } { ...props }>\n\t\t\t{ children }\n\t\t</div>\n\t);\n};\nDialogBody.displayName = 'Dialog.Body';\n\n// Dialog footer.\nexport interface DialogFooterProps extends CommonProps {\n\t/** Children of the dialog footer. */\n\tchildren?: ReactNode | ( ( props: { close: () => void } ) => ReactNode );\n}\n\nexport const DialogFooter = ( {\n\tchildren,\n\tclassName,\n}: DialogFooterProps ): JSX.Element => {\n\tconst { design, handleClose } = useDialogState();\n\n\tconst renderChildren = () => {\n\t\tif ( ! children ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( typeof children === 'function' ) {\n\t\t\treturn children( { close: handleClose! } );\n\t\t}\n\n\t\treturn children;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ cn(\n\t\t\t\t'p-4 flex justify-end gap-3',\n\t\t\t\t{\n\t\t\t\t\t'bg-background-secondary': design === 'footer-divided',\n\t\t\t\t},\n\t\t\t\tclassName\n\t\t\t) }\n\t\t>\n\t\t\t{ renderChildren() }\n\t\t</div>\n\t);\n};\nDialogFooter.displayName = 'Dialog.Footer';\n\nDialog.Panel = DialogPanel;\nDialog.Portal = DialogPortal;\nDialog.Title = DialogTitle;\nDialog.Description = DialogDescription;\nDialog.CloseButton = DialogCloseButton;\nDialog.Header = DialogHeader;\nDialog.Body = DialogBody;\nDialog.Footer = DialogFooter;\nDialog.Backdrop = DialogBackdrop;\n\nexport default Dialog;\n"],"names":["DialogContext","createContext","useDialogState","useContext","animationVariants","TRANSITION_DURATION","Dialog","open","setOpen","children","trigger","className","exitOnClickOutside","exitOnEsc","design","scrollLock","isControlled","isOpen","setIsOpen","useState","dialogRef","useRef","dialogContainerRef","openState","useMemo","setOpenState","refs","context","useFloating","click","useClick","dismiss","useDismiss","event","role","useRole","getFloatingProps","useInteractions","handleOpen","handleClose","renderTrigger","useCallback","isValidElement","cloneElement","callAll","jsxs","Fragment","jsx","DialogPanel","rootClassName","AnimatePresence","FloatingOverlay","cn","FloatingFocusManager","motion","node","DialogPortal","props","FloatingPortal","DialogBackdrop","createPortal","DialogHeader","DialogTitle","Tag","DialogDescription","DefaultCloseButton","X","DialogCloseButton","DialogBody","DialogFooter","renderChildren"],"mappings":"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"}