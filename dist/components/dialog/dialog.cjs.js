"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),s=require("react"),y=require("framer-motion"),i=require("../../utilities/functions.cjs.js"),U=require("lucide-react"),X=require("react-dom"),r=require("@floating-ui/react"),M=s.createContext({}),C=()=>s.useContext(M),A={open:{opacity:1},exit:{opacity:0}},I={duration:.2},l=({open:e,setOpen:o,children:a,trigger:n=null,className:c,exitOnClickOutside:m=!1,exitOnEsc:g=!0,design:N="simple",scrollLock:j=!0})=>{const p=e!==void 0&&o!==void 0,[d,b]=s.useState(!1),f=s.useRef(null),H=s.useRef(null),u=s.useMemo(()=>p?e:d,[e,d]),x=s.useMemo(()=>p?o:b,[b,o]),{refs:v,context:D}=r.useFloating({open:u,onOpenChange:x}),z=r.useClick(D),_=r.useDismiss(D,{enabled:m||g,escapeKey:g,outsidePress:m}),E=r.useRole(D,{role:"dialog"}),{getFloatingProps:V}=r.useInteractions([z,_,E]),h=()=>{u||x(!0)},K=()=>{u&&x(!1)},L=s.useCallback(()=>s.isValidElement(n)?s.cloneElement(n,{onClick:i.callAll(h,n?.props?.onClick),ref:v.setReference,"aria-haspopup":"dialog","aria-expanded":u}):typeof n=="function"?n({onClick:h}):null,[n,h,v.setReference,u]);return t.jsxs(t.Fragment,{children:[L(),t.jsx(M.Provider,{value:{open:u,setOpen:x,handleClose:K,design:N,context:D,getFloatingProps:V,refs:v,dialogContainerRef:H,dialogRef:f,scrollLock:j,className:c},children:a})]})};l.displayName="Dialog";const k=({children:e,className:o})=>{const{open:a,handleClose:n,context:c,getFloatingProps:m,dialogRef:g,scrollLock:N,dialogContainerRef:j,className:p,refs:d}=C();return t.jsx(y.AnimatePresence,{children:a&&t.jsx(r.FloatingOverlay,{ref:j,lockScroll:N,className:i.cn("z-999999",p),"aria-modal":"true",children:t.jsx(r.FloatingFocusManager,{context:c,...d?.reference&&{returnFocus:d.reference},children:t.jsx(y.motion.div,{className:"fixed inset-0 overflow-y-auto",initial:"exit",animate:"open",exit:"exit",variants:A,role:"dialog","aria-modal":"true",transition:I,children:t.jsx("div",{className:"flex items-center justify-center min-h-full",children:t.jsx("div",{ref:f=>{f&&(g.current=f,c&&c.refs.setFloating(f))},...m?.(),className:i.cn("flex flex-col gap-5 w-120 h-fit bg-background-primary border border-solid border-border-subtle rounded-xl shadow-soft-shadow-2xl my-5 overflow-hidden",o),children:typeof e=="function"?e({close:n}):e})})})})})})};k.displayName="Dialog.Panel";const F=({children:e,...o})=>t.jsx(r.FloatingPortal,{...o,children:e});F.displayName="Dialog.Portal";const P=({className:e,...o})=>{const{open:a,dialogContainerRef:n}=C();return n?.current?t.jsx(t.Fragment,{children:X.createPortal(t.jsx(y.AnimatePresence,{children:a&&t.jsx(y.motion.div,{className:i.cn("fixed inset-0 -z-10 bg-background-inverse/90",e),...o,initial:"exit",animate:"open",exit:"exit",variants:A,transition:I})}),n.current)}):null};P.displayName="Dialog.Backdrop";const R=({children:e,className:o,...a})=>t.jsx("div",{className:i.cn("space-y-2 px-5 pt-5 pb-1",o),...a,children:e});R.displayName="Dialog.Header";const B=({children:e,as:o="h3",className:a,...n})=>t.jsx(o,{className:i.cn("text-base font-semibold text-text-primary m-0 p-0",a),...n,children:e});B.displayName="Dialog.Title";const S=({children:e,as:o="p",className:a,...n})=>t.jsx(o,{className:i.cn("text-sm font-normal text-text-secondary my-0 ml-0 mr-1 p-0",a),...n,children:e});S.displayName="Dialog.Description";const O=({className:e,...o})=>t.jsx("button",{className:i.cn("bg-transparent inline-flex justify-center items-center border-0 p-1 m-0 cursor-pointer focus:outline-none outline-none shadow-none",e),"aria-label":"Close dialog",...o,children:t.jsx(U.X,{className:"size-4 text-text-primary shrink-0"})}),T=({children:e,as:o=s.Fragment,...a})=>{const{handleClose:n}=C();return e?o===s.Fragment?typeof e=="function"?e({close:n}):s.cloneElement(e,{onClick:n}):t.jsx(o,{...a,onClick:n,"aria-label":"Close dialog",children:e}):t.jsx(O,{onClick:n,...a})};T.displayName="Dialog.CloseButton";const q=({children:e,className:o,...a})=>t.jsx("div",{className:i.cn("px-5",o),...a,children:e});q.displayName="Dialog.Body";const w=({children:e,className:o})=>{const{design:a,handleClose:n}=C(),c=()=>e?typeof e=="function"?e({close:n}):e:null;return t.jsx("div",{className:i.cn("p-4 flex justify-end gap-3",{"bg-background-secondary":a==="footer-divided"},o),children:c()})};w.displayName="Dialog.Footer";l.Panel=k;l.Portal=F;l.Title=B;l.Description=S;l.CloseButton=T;l.Header=R;l.Body=q;l.Footer=w;l.Backdrop=P;exports.DefaultCloseButton=O;exports.DialogBackdrop=P;exports.DialogBody=q;exports.DialogCloseButton=T;exports.DialogDescription=S;exports.DialogFooter=w;exports.DialogHeader=R;exports.DialogPanel=k;exports.DialogPortal=F;exports.DialogTitle=B;exports.default=l;
//# sourceMappingURL=dialog.cjs.js.map
