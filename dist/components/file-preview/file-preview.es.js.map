{"version":3,"file":"file-preview.es.js","sources":["../../../src/components/file-preview/file-preview.tsx"],"sourcesContent":["import { cn, formatFileSize } from '@/utilities/functions';\nimport { File, ImageOff, Trash } from 'lucide-react';\n\nexport type FilePreviewFile =\n\t| File\n\t| { name: string; url: string; type: string; size: number };\n\nexport interface FilePreviewProps {\n\t/** The file to display. It can be a File object or an object with name, url, type, and size properties. */\n\tfile: FilePreviewFile;\n\n\t/** Function called when the file is removed. The parameter is the selected file object, which can be a File object or an object with name, url, type, and size properties or null. */\n\tonRemove: ( selectedFile: FilePreviewFile ) => void;\n\n\t/** Indicates whether the file preview is disabled. */\n\tdisabled?: boolean;\n\n\t/** The size of the file preview. */\n\tsize?: 'sm' | 'md' | 'lg';\n\n\t/** Indicates whether the file preview has an error. */\n\terror?: boolean;\n}\n\nconst commonFilePreviewClasses = {\n\tsm: {\n\t\timage: 'w-8 h-8',\n\t\tname: 'text-xs',\n\t\tfileIcon: 'h-8',\n\t\tuploadText: 'text-xs',\n\t},\n\tmd: {\n\t\timage: 'w-10 h-10',\n\t\tname: 'text-sm',\n\t\tfileIcon: 'h-10',\n\t\tuploadText: 'text-xs',\n\t},\n\tlg: {\n\t\timage: 'w-10 h-10',\n\t\tname: 'text-sm',\n\t\tfileIcon: 'h-10',\n\t\tuploadText: 'text-xs',\n\t},\n};\n\nexport const FilePreview = ( {\n\tfile,\n\tonRemove,\n\terror,\n\tdisabled,\n\tsize = 'sm',\n}: FilePreviewProps ) => {\n\tconst renderFileIcon = () => (\n\t\t<span\n\t\t\tclassName={ cn(\n\t\t\t\t'inline-flex self-start p-0.5',\n\t\t\t\tcommonFilePreviewClasses[ size ].fileIcon\n\t\t\t) }\n\t\t>\n\t\t\t<File className=\"size-5 text-icon-primary\" />\n\t\t</span>\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={ cn(\n\t\t\t\t'w-full flex items-start justify-between rounded mt-2 bg-field-primary-background p-2 gap-3',\n\t\t\t\terror && 'border-alert-border-danger bg-alert-background-danger'\n\t\t\t) }\n\t\t>\n\t\t\t<div className=\"flex items-center gap-3 w-full\">\n\t\t\t\t{ file.type.startsWith( 'image' ) ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t'rounded-sm flex items-center justify-center shrink-0',\n\t\t\t\t\t\t\terror && 'bg-gray-200'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ error ? (\n\t\t\t\t\t\t\t<ImageOff className=\"size-6 text-field-helper\" />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t'url' in file\n\t\t\t\t\t\t\t\t\t\t? file.url\n\t\t\t\t\t\t\t\t\t\t: URL.createObjectURL( file )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\talt=\"Preview\"\n\t\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\t\t'w-full object-contain rounded-sm',\n\t\t\t\t\t\t\t\t\tcommonFilePreviewClasses[ size ].image\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\trenderFileIcon()\n\t\t\t\t) }\n\n\t\t\t\t<div className=\"text-left flex flex-col gap-0 w-[calc(100%_-_5.5rem)]\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\tcommonFilePreviewClasses[ size ].name,\n\t\t\t\t\t\t\t'font-medium text-field-label truncate'\n\t\t\t\t\t\t) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ file.name }\n\t\t\t\t\t</span>\n\t\t\t\t\t{ file.size && file.size > 0 && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t\t\tcommonFilePreviewClasses[ size ].uploadText,\n\t\t\t\t\t\t\t\t'text-xs text-field-helper',\n\t\t\t\t\t\t\t\terror && 'text-support-error'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ formatFileSize( file.size ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t{ ! disabled && (\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={ () => onRemove( file ) }\n\t\t\t\t\t\tclassName=\"inline-flex cursor-pointer bg-transparent border-0 p-1 my-0 ml-auto mr-0 ring-0 focus:outline-none self-start\"\n\t\t\t\t\t\taria-label=\"Remove file\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Trash className=\"size-4 text-support-error\" />\n\t\t\t\t\t</button>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default FilePreview;\n"],"names":["commonFilePreviewClasses","FilePreview","file","onRemove","error","disabled","size","renderFileIcon","jsx","cn","File","jsxs","ImageOff","formatFileSize","Trash"],"mappings":";;;AAwBA,MAAMA,IAA2B;AAAA,EAChC,IAAI;AAAA,IACH,OAAO;AAAA,IACP,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY;AAAA,EACb;AAAA,EACA,IAAI;AAAA,IACH,OAAO;AAAA,IACP,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY;AAAA,EACb;AAAA,EACA,IAAI;AAAA,IACH,OAAO;AAAA,IACP,MAAM;AAAA,IACN,UAAU;AAAA,IACV,YAAY;AAAA,EAAA;AAEd,GAEaC,IAAc,CAAE;AAAA,EAC5B,MAAAC;AAAA,EACA,UAAAC;AAAA,EACA,OAAAC;AAAA,EACA,UAAAC;AAAA,EACA,MAAAC,IAAO;AACR,MAAyB;AACxB,QAAMC,IAAiB,MACtB,gBAAAC;AAAA,IAAC;AAAA,IAAA;AAAA,MACA,WAAYC;AAAA,QACX;AAAA,QACAT,EAA0BM,CAAK,EAAE;AAAA,MAClC;AAAA,MAEA,UAAA,gBAAAE,EAACE,GAAK,EAAA,WAAU,2BAA2B,CAAA;AAAA,IAAA;AAAA,EAC5C;AAIA,SAAA,gBAAAF;AAAA,IAAC;AAAA,IAAA;AAAA,MACA,WAAYC;AAAA,QACX;AAAA,QACAL,KAAS;AAAA,MACV;AAAA,MAEA,UAAA,gBAAAO,EAAC,OAAI,EAAA,WAAU,kCACZ,UAAA;AAAA,QAAKT,EAAA,KAAK,WAAY,OAAQ,IAC/B,gBAAAM;AAAA,UAAC;AAAA,UAAA;AAAA,YACA,WAAYC;AAAA,cACX;AAAA,cACAL,KAAS;AAAA,YACV;AAAA,YAEE,UACDA,IAAA,gBAAAI,EAACI,GAAS,EAAA,WAAU,2BAA2B,CAAA,IAE/C,gBAAAJ;AAAA,cAAC;AAAA,cAAA;AAAA,gBACA,KACC,SAASN,IACNA,EAAK,MACL,IAAI,gBAAiBA,CAAK;AAAA,gBAE9B,KAAI;AAAA,gBACJ,WAAYO;AAAA,kBACX;AAAA,kBACAT,EAA0BM,CAAK,EAAE;AAAA,gBAAA;AAAA,cAClC;AAAA,YAAA;AAAA,UACD;AAAA,YAIFC,EAAe;AAAA,QAGhB,gBAAAI,EAAC,OAAI,EAAA,WAAU,yDACd,UAAA;AAAA,UAAA,gBAAAH;AAAA,YAAC;AAAA,YAAA;AAAA,cACA,WAAYC;AAAA,gBACXT,EAA0BM,CAAK,EAAE;AAAA,gBACjC;AAAA,cACD;AAAA,cAEE,UAAKJ,EAAA;AAAA,YAAA;AAAA,UACR;AAAA,UACEA,EAAK,QAAQA,EAAK,OAAO,KAC1B,gBAAAM;AAAA,YAAC;AAAA,YAAA;AAAA,cACA,WAAYC;AAAA,gBACXT,EAA0BM,CAAK,EAAE;AAAA,gBACjC;AAAA,gBACAF,KAAS;AAAA,cACV;AAAA,cAEE,UAAAS,EAAgBX,EAAK,IAAK;AAAA,YAAA;AAAA,UAAA;AAAA,QAC7B,GAEF;AAAA,QACE,CAAEG,KACH,gBAAAG;AAAA,UAAC;AAAA,UAAA;AAAA,YACA,SAAU,MAAML,EAAUD,CAAK;AAAA,YAC/B,WAAU;AAAA,YACV,cAAW;AAAA,YAEX,UAAA,gBAAAM,EAACM,GAAM,EAAA,WAAU,4BAA4B,CAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MAC9C,EAEF,CAAA;AAAA,IAAA;AAAA,EACD;AAEF;"}