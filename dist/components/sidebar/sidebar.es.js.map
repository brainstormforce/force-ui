{"version":3,"file":"sidebar.es.js","sources":["../../../src/components/sidebar/sidebar.tsx"],"sourcesContent":["import React, {\n\ttype ReactNode,\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseRef,\n\tuseEffect,\n} from 'react';\nimport { cn, safeLocalStorage } from '@/utilities/functions';\nimport { PanelLeftClose, PanelLeftOpen } from 'lucide-react';\nimport Tooltip from '../tooltip';\n\nexport interface SidebarContextProps {\n\tisCollapsed: boolean;\n\tsetIsCollapsed: React.Dispatch<React.SetStateAction<boolean>>;\n\tcollapsible: boolean;\n}\n\nconst SidebarContext = createContext<SidebarContextProps>( {\n\tisCollapsed: false,\n\tsetIsCollapsed: () => {},\n\tcollapsible: true,\n} );\n\n// Common props interface for Sidebar components\nexport interface SidebarCommonProps {\n\t/** Content to render inside the Sidebar. Typically includes Sidebar.Header, Sidebar.Body, and Sidebar.Footer components. */\n\tchildren: ReactNode;\n}\n\n// Sidebar component props interface\nexport interface SidebarProps extends SidebarCommonProps {\n\t/** Optional custom CSS classes to apply to the Sidebar container for styling. */\n\tclassName?: string;\n\t/** Callback function triggered when the Sidebar collapse state changes. */\n\tonCollapseChange?: ( isCollapsed: boolean ) => void;\n\t/** Determines if the Sidebar can be collapsed or not. If true, a collapse button is shown. */\n\tcollapsible?: boolean;\n\t/** Controls whether a border should appear on the right of the Sidebar. */\n\tborderOn?: boolean;\n\t/** Set the sidebar collapse state. This is useful when collapsible is false and you want to use the sidebar as collapsed by default. */\n\tcollapsed?: boolean;\n}\n\n// Sidebar subcomponents props interfaces\nexport interface SidebarItemProps extends SidebarCommonProps {\n\t/** Optional custom CSS classes for styling the Sidebar item. */\n\tclassName?: string;\n\t/** Click event handler */\n\tonClick?: () => void; // Add this line\n}\n\nexport const Sidebar = ( {\n\tchildren,\n\tclassName,\n\tonCollapseChange,\n\tcollapsible = true,\n\tborderOn = true,\n\tcollapsed = false,\n\t...props\n}: SidebarProps ) => {\n\tconst sideBarRef = useRef<HTMLDivElement>( null );\n\tconst [ isCollapsed, setIsCollapsed ] = useState( () => {\n\t\tif ( ! collapsible && collapsed ) {\n\t\t\treturn collapsed;\n\t\t}\n\t\tconst storedState = safeLocalStorage.get( 'sidebar-collapsed' );\n\t\tif ( storedState ) {\n\t\t\treturn storedState;\n\t\t}\n\t\tconst isSmallScreen = window.innerWidth < 1280;\n\t\treturn isSmallScreen;\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( typeof onCollapseChange === 'function' ) {\n\t\t\tonCollapseChange( isCollapsed );\n\t\t}\n\t}, [ isCollapsed, onCollapseChange ] );\n\n\tuseEffect( () => {\n\t\tif ( ! collapsible && collapsed ) {\n\t\t\treturn;\n\t\t}\n\t\tconst handleScreenResize = () => {\n\t\t\tconst isSmallScreen = window.innerWidth < 1280;\n\t\t\tif ( ! collapsible ) {\n\t\t\t\tsetIsCollapsed( false );\n\t\t\t\tsafeLocalStorage.remove( 'sidebar-collapsed' );\n\t\t\t} else if ( isSmallScreen ) {\n\t\t\t\tsetIsCollapsed( true );\n\t\t\t\tsafeLocalStorage.set( 'sidebar-collapsed', true );\n\t\t\t} else {\n\t\t\t\tconst storedState = safeLocalStorage.get( 'sidebar-collapsed' );\n\t\t\t\tsetIsCollapsed( storedState ? storedState : false );\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'resize', handleScreenResize );\n\t\thandleScreenResize();\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'resize', handleScreenResize );\n\t\t};\n\t}, [ collapsible ] );\n\n\treturn (\n\t\t<SidebarContext.Provider\n\t\t\tvalue={ { isCollapsed, setIsCollapsed, collapsible } }\n\t\t>\n\t\t\t<div\n\t\t\t\tref={ sideBarRef }\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'h-full overflow-auto w-72 px-4 py-4 gap-4 flex flex-col bg-background-primary',\n\t\t\t\t\tborderOn &&\n\t\t\t\t\t\t'border-0 border-r border-solid border-border-subtle',\n\t\t\t\t\t'transition-all duration-200',\n\t\t\t\t\tisCollapsed && 'w-16 px-2',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</SidebarContext.Provider>\n\t);\n};\nSidebar.displayName = 'Sidebar';\n\nexport const SidebarHeader = ( { children }: SidebarCommonProps ) => {\n\treturn <div className=\"space-y-2\">{ children }</div>;\n};\nSidebarHeader.displayName = 'Sidebar.Header';\n\nexport const SidebarBody = ( { children }: SidebarCommonProps ) => {\n\treturn <div className={ cn( 'space-y-4 grow items-start' ) }>{ children }</div>;\n};\nSidebarBody.displayName = 'Sidebar.Body';\n\nexport const SidebarFooter = ( { children }: SidebarCommonProps ) => {\n\tconst { isCollapsed, setIsCollapsed, collapsible } =\n\t\tuseContext( SidebarContext );\n\treturn (\n\t\t<div className=\"space-y-4\">\n\t\t\t{ children }\n\t\t\t{ collapsible && (\n\t\t\t\t<button\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'bg-transparent w-full border-0 p-0 m-0 flex items-center gap-2 text-base cursor-pointer',\n\t\t\t\t\t\tisCollapsed && 'justify-center'\n\t\t\t\t\t) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tsetIsCollapsed( ! isCollapsed );\n\n\t\t\t\t\t\tsafeLocalStorage.set( 'sidebar-collapsed', ! isCollapsed );\n\t\t\t\t\t} }\n\t\t\t\t\taria-label={\n\t\t\t\t\t\tisCollapsed ? 'Expand sidebar' : 'Collapse sidebar'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ isCollapsed ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Tooltip title=\"Expand\">\n\t\t\t\t\t\t\t\t<PanelLeftOpen className=\"size-5\" />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PanelLeftClose className=\"size-5\" /> Collapse\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</button>\n\t\t\t) }\n\t\t</div>\n\t);\n};\nSidebarFooter.displayName = 'Sidebar.Footer';\n\nexport const SidebarItem = ( { children, className }: SidebarItemProps ) => {\n\treturn <div className={ cn( 'w-full', className ) }>{ children }</div>;\n};\nSidebarItem.displayName = 'Sidebar.Item';\n\nexport default Object.assign( Sidebar, {\n\tHeader: SidebarHeader,\n\tBody: SidebarBody,\n\tFooter: SidebarFooter,\n\tItem: SidebarItem,\n} );\n"],"names":["SidebarContext","createContext","Sidebar","children","className","onCollapseChange","collapsible","borderOn","collapsed","props","sideBarRef","useRef","isCollapsed","setIsCollapsed","useState","storedState","safeLocalStorage","useEffect","handleScreenResize","isSmallScreen","jsx","cn","SidebarHeader","SidebarBody","SidebarFooter","useContext","jsxs","Fragment","Tooltip","PanelLeftOpen","PanelLeftClose","SidebarItem","sidebar"],"mappings":"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"}