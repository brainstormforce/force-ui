{"version":3,"file":"sidebar.cjs.js","sources":["../../../src/components/sidebar/sidebar.tsx"],"sourcesContent":["import React, {\n\ttype ReactNode,\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseRef,\n\tuseEffect,\n} from 'react';\nimport { cn, safeLocalStorage } from '@/utilities/functions';\nimport { PanelLeftClose, PanelLeftOpen } from 'lucide-react';\nimport Tooltip from '../tooltip';\n\nexport interface SidebarContextProps {\n\tisCollapsed: boolean;\n\tsetIsCollapsed: React.Dispatch<React.SetStateAction<boolean>>;\n\tcollapsible: boolean;\n}\n\nconst SidebarContext = createContext<SidebarContextProps>( {\n\tisCollapsed: false,\n\tsetIsCollapsed: () => {},\n\tcollapsible: true,\n} );\n\n// Common props interface for Sidebar components\nexport interface SidebarCommonProps {\n\t/** Content to render inside the Sidebar. Typically includes Sidebar.Header, Sidebar.Body, and Sidebar.Footer components. */\n\tchildren: ReactNode;\n}\n\n// Sidebar component props interface\nexport interface SidebarProps extends SidebarCommonProps {\n\t/** Optional custom CSS classes to apply to the Sidebar container for styling. */\n\tclassName?: string;\n\t/** Callback function triggered when the Sidebar collapse state changes. */\n\tonCollapseChange?: ( isCollapsed: boolean ) => void;\n\t/** Determines if the Sidebar can be collapsed or not. If true, a collapse button is shown. */\n\tcollapsible?: boolean;\n\t/** Controls whether a border should appear on the right of the Sidebar. */\n\tborderOn?: boolean;\n\t/** Set the sidebar collapse state. This is useful when collapsible is false and you want to use the sidebar as collapsed by default. */\n\tcollapsed?: boolean;\n}\n\n// Sidebar subcomponents props interfaces\nexport interface SidebarItemProps extends SidebarCommonProps {\n\t/** Optional custom CSS classes for styling the Sidebar item. */\n\tclassName?: string;\n\t/** Click event handler */\n\tonClick?: () => void; // Add this line\n}\n\nexport const Sidebar = ( {\n\tchildren,\n\tclassName,\n\tonCollapseChange,\n\tcollapsible = true,\n\tborderOn = true,\n\tcollapsed = false,\n\t...props\n}: SidebarProps ) => {\n\tconst sideBarRef = useRef<HTMLDivElement>( null );\n\tconst [ isCollapsed, setIsCollapsed ] = useState( () => {\n\t\tif ( ! collapsible && collapsed ) {\n\t\t\treturn collapsed;\n\t\t}\n\t\tconst storedState = safeLocalStorage.get( 'sidebar-collapsed' );\n\t\tif ( storedState ) {\n\t\t\treturn storedState;\n\t\t}\n\t\tconst isSmallScreen = window.innerWidth < 1280;\n\t\treturn isSmallScreen;\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( typeof onCollapseChange === 'function' ) {\n\t\t\tonCollapseChange( isCollapsed );\n\t\t}\n\t}, [ isCollapsed, onCollapseChange ] );\n\n\tuseEffect( () => {\n\t\tif ( ! collapsible && collapsed ) {\n\t\t\treturn;\n\t\t}\n\t\tconst handleScreenResize = () => {\n\t\t\tconst isSmallScreen = window.innerWidth < 1280;\n\t\t\tif ( ! collapsible ) {\n\t\t\t\tsetIsCollapsed( false );\n\t\t\t\tsafeLocalStorage.remove( 'sidebar-collapsed' );\n\t\t\t} else if ( isSmallScreen ) {\n\t\t\t\tsetIsCollapsed( true );\n\t\t\t\tsafeLocalStorage.set( 'sidebar-collapsed', true );\n\t\t\t} else {\n\t\t\t\tconst storedState = safeLocalStorage.get( 'sidebar-collapsed' );\n\t\t\t\tsetIsCollapsed( storedState ? storedState : false );\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'resize', handleScreenResize );\n\t\thandleScreenResize();\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'resize', handleScreenResize );\n\t\t};\n\t}, [ collapsible ] );\n\n\treturn (\n\t\t<SidebarContext.Provider\n\t\t\tvalue={ { isCollapsed, setIsCollapsed, collapsible } }\n\t\t>\n\t\t\t<div\n\t\t\t\tref={ sideBarRef }\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'h-full overflow-auto w-72 px-4 py-4 gap-4 flex flex-col bg-background-primary',\n\t\t\t\t\tborderOn &&\n\t\t\t\t\t\t'border-0 border-r border-solid border-border-subtle',\n\t\t\t\t\t'transition-all duration-200',\n\t\t\t\t\tisCollapsed && 'w-16 px-2',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</SidebarContext.Provider>\n\t);\n};\nSidebar.displayName = 'Sidebar';\n\nexport const SidebarHeader = ( { children }: SidebarCommonProps ) => {\n\treturn <div className=\"space-y-2\">{ children }</div>;\n};\nSidebarHeader.displayName = 'Sidebar.Header';\n\nexport const SidebarBody = ( { children }: SidebarCommonProps ) => {\n\treturn <div className={ cn( 'space-y-4 grow items-start' ) }>{ children }</div>;\n};\nSidebarBody.displayName = 'Sidebar.Body';\n\nexport const SidebarFooter = ( { children }: SidebarCommonProps ) => {\n\tconst { isCollapsed, setIsCollapsed, collapsible } =\n\t\tuseContext( SidebarContext );\n\treturn (\n\t\t<div className=\"space-y-4\">\n\t\t\t{ children }\n\t\t\t{ collapsible && (\n\t\t\t\t<button\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'bg-transparent w-full border-0 p-0 m-0 flex items-center gap-2 text-base cursor-pointer',\n\t\t\t\t\t\tisCollapsed && 'justify-center'\n\t\t\t\t\t) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tsetIsCollapsed( ! isCollapsed );\n\n\t\t\t\t\t\tsafeLocalStorage.set( 'sidebar-collapsed', ! isCollapsed );\n\t\t\t\t\t} }\n\t\t\t\t\taria-label={\n\t\t\t\t\t\tisCollapsed ? 'Expand sidebar' : 'Collapse sidebar'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ isCollapsed ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Tooltip title=\"Expand\">\n\t\t\t\t\t\t\t\t<PanelLeftOpen className=\"size-5\" />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PanelLeftClose className=\"size-5\" /> Collapse\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</button>\n\t\t\t) }\n\t\t</div>\n\t);\n};\nSidebarFooter.displayName = 'Sidebar.Footer';\n\nexport const SidebarItem = ( { children, className }: SidebarItemProps ) => {\n\treturn <div className={ cn( 'w-full', className ) }>{ children }</div>;\n};\nSidebarItem.displayName = 'Sidebar.Item';\n\nexport default Object.assign( Sidebar, {\n\tHeader: SidebarHeader,\n\tBody: SidebarBody,\n\tFooter: SidebarFooter,\n\tItem: SidebarItem,\n} );\n"],"names":["SidebarContext","createContext","Sidebar","children","className","onCollapseChange","collapsible","borderOn","collapsed","props","sideBarRef","useRef","isCollapsed","setIsCollapsed","useState","storedState","safeLocalStorage","useEffect","handleScreenResize","isSmallScreen","jsx","cn","SidebarHeader","SidebarBody","SidebarFooter","useContext","jsxs","Fragment","Tooltip","PanelLeftOpen","PanelLeftClose","SidebarItem","sidebar"],"mappings":"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"}