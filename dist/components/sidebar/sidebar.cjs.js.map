{"version":3,"file":"sidebar.cjs.js","sources":["../../../src/components/sidebar/sidebar.tsx"],"sourcesContent":["import React, {\n\ttype ReactNode,\n\tcreateContext,\n\tuseContext,\n\tuseState,\n\tuseRef,\n\tuseEffect,\n} from 'react';\nimport { cn, safeLocalStorage } from '@/utilities/functions';\nimport { PanelLeftClose, PanelLeftOpen } from 'lucide-react';\nimport Tooltip from '../tooltip';\n\nexport interface SidebarContextProps {\n\tisCollapsed: boolean;\n\tsetIsCollapsed: React.Dispatch<React.SetStateAction<boolean>>;\n\tcollapsible: boolean;\n}\n\nconst SidebarContext = createContext<SidebarContextProps>( {\n\tisCollapsed: false,\n\tsetIsCollapsed: () => {},\n\tcollapsible: true,\n} );\n\n// Common props interface for Sidebar components\nexport interface SidebarCommonProps {\n\t/** Content to render inside the Sidebar. Typically includes Sidebar.Header, Sidebar.Body, and Sidebar.Footer components. */\n\tchildren: ReactNode;\n}\n\n// Sidebar component props interface\nexport interface SidebarProps extends SidebarCommonProps {\n\t/** Optional custom CSS classes to apply to the Sidebar container for styling. */\n\tclassName?: string;\n\t/** Callback function triggered when the Sidebar collapse state changes. */\n\tonCollapseChange?: ( isCollapsed: boolean ) => void;\n\t/** Determines if the Sidebar can be collapsed or not. If true, a collapse button is shown. */\n\tcollapsible?: boolean;\n\t/** Controls whether a border should appear on the right of the Sidebar. */\n\tborderOn?: boolean;\n}\n\n// Sidebar subcomponents props interfaces\nexport interface SidebarItemProps extends SidebarCommonProps {\n\t/** Optional custom CSS classes for styling the Sidebar item. */\n\tclassName?: string;\n\t/** Click event handler */\n\tonClick?: () => void; // Add this line\n}\n\nexport const Sidebar = ( {\n\tchildren,\n\tclassName,\n\tonCollapseChange,\n\tcollapsible = true,\n\tborderOn = true,\n\t...props\n}: SidebarProps ) => {\n\tconst sideBarRef = useRef<HTMLDivElement>( null );\n\tconst [ isCollapsed, setIsCollapsed ] = useState( () => {\n\t\tconst storedState = safeLocalStorage.get( 'sidebar-collapsed' );\n\t\tconst isSmallScreen = window.innerWidth < 1280;\n\t\tif ( storedState ) {\n\t\t\treturn storedState;\n\t\t}\n\t\treturn isSmallScreen;\n\t} );\n\n\tuseEffect( () => {\n\t\tif ( onCollapseChange ) {\n\t\t\tonCollapseChange( isCollapsed );\n\t\t}\n\t}, [ isCollapsed, onCollapseChange ] );\n\n\tuseEffect( () => {\n\t\tconst handleScreenResize = () => {\n\t\t\tconst isSmallScreen = window.innerWidth < 1280;\n\t\t\tif ( ! collapsible ) {\n\t\t\t\tsetIsCollapsed( false );\n\t\t\t\tsafeLocalStorage.remove( 'sidebar-collapsed' );\n\t\t\t} else if ( isSmallScreen ) {\n\t\t\t\tsetIsCollapsed( true );\n\t\t\t\tsafeLocalStorage.set( 'sidebar-collapsed', true );\n\t\t\t} else {\n\t\t\t\tconst storedState = safeLocalStorage.get( 'sidebar-collapsed' );\n\t\t\t\tsetIsCollapsed( storedState ? storedState : false );\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener( 'resize', handleScreenResize );\n\t\thandleScreenResize();\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener( 'resize', handleScreenResize );\n\t\t};\n\t}, [ collapsible ] );\n\n\treturn (\n\t\t<SidebarContext.Provider\n\t\t\tvalue={ { isCollapsed, setIsCollapsed, collapsible } }\n\t\t>\n\t\t\t<div\n\t\t\t\tref={ sideBarRef }\n\t\t\t\tclassName={ cn(\n\t\t\t\t\t'h-full overflow-auto w-72 px-4 py-4 gap-4 flex flex-col bg-background-primary',\n\t\t\t\t\tborderOn &&\n\t\t\t\t\t\t'border-0 border-r border-solid border-border-subtle',\n\t\t\t\t\t'transition-all duration-200',\n\t\t\t\t\tisCollapsed && 'w-16 px-2',\n\t\t\t\t\tclassName\n\t\t\t\t) }\n\t\t\t\t{ ...props }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t</SidebarContext.Provider>\n\t);\n};\nSidebar.displayName = 'Sidebar';\n\nexport const SidebarHeader = ( { children }: SidebarCommonProps ) => {\n\treturn <div className=\"space-y-2\">{ children }</div>;\n};\nSidebarHeader.displayName = 'Sidebar.Header';\n\nexport const SidebarBody = ( { children }: SidebarCommonProps ) => {\n\treturn <div className={ cn( 'space-y-4 grow items-start' ) }>{ children }</div>;\n};\nSidebarBody.displayName = 'Sidebar.Body';\n\nexport const SidebarFooter = ( { children }: SidebarCommonProps ) => {\n\tconst { isCollapsed, setIsCollapsed, collapsible } =\n\t\tuseContext( SidebarContext );\n\treturn (\n\t\t<div className=\"space-y-4\">\n\t\t\t{ children }\n\t\t\t{ collapsible && (\n\t\t\t\t<button\n\t\t\t\t\tclassName={ cn(\n\t\t\t\t\t\t'bg-transparent w-full border-0 p-0 m-0 flex items-center gap-2 text-base cursor-pointer',\n\t\t\t\t\t\tisCollapsed && 'justify-center'\n\t\t\t\t\t) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tsetIsCollapsed( ! isCollapsed );\n\n\t\t\t\t\t\tsafeLocalStorage.set( 'sidebar-collapsed', ! isCollapsed );\n\t\t\t\t\t} }\n\t\t\t\t\taria-label={\n\t\t\t\t\t\tisCollapsed ? 'Expand sidebar' : 'Collapse sidebar'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{ isCollapsed ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Tooltip title=\"Expand\">\n\t\t\t\t\t\t\t\t<PanelLeftOpen className=\"size-5\" />\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<PanelLeftClose className=\"size-5\" /> Collapse\n\t\t\t\t\t\t</>\n\t\t\t\t\t) }\n\t\t\t\t</button>\n\t\t\t) }\n\t\t</div>\n\t);\n};\nSidebarFooter.displayName = 'Sidebar.Footer';\n\nexport const SidebarItem = ( { children, className }: SidebarItemProps ) => {\n\treturn <div className={ cn( 'w-full', className ) }>{ children }</div>;\n};\nSidebarItem.displayName = 'Sidebar.Item';\n\nexport default Object.assign( Sidebar, {\n\tHeader: SidebarHeader,\n\tBody: SidebarBody,\n\tFooter: SidebarFooter,\n\tItem: SidebarItem,\n} );\n"],"names":["SidebarContext","createContext","Sidebar","children","className","onCollapseChange","collapsible","borderOn","props","sideBarRef","useRef","isCollapsed","setIsCollapsed","useState","storedState","safeLocalStorage","isSmallScreen","useEffect","handleScreenResize","jsx","cn","SidebarHeader","SidebarBody","SidebarFooter","useContext","jsxs","Fragment","Tooltip","PanelLeftOpen","PanelLeftClose","SidebarItem","sidebar"],"mappings":"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"}